(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ea1cfba"],{"496d":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-container"},[e("div",{staticClass:"top-list"},[t.typeLoading?t._e():e("div",[e("el-skeleton",{attrs:{row:1,animated:""}})],1),t.types.short.length?e("div",{staticClass:"horizontal-list"},[e("div",{staticClass:"list-title"},[t._v("类别：")]),e("div",{class:"ALL"===t.selectType?"list-item item-active":"list-item",on:{click:function(e){return t.handleTypeSelect(-1,"ALL")}}},[t._v(" ALL ")]),t._l(t.types.short,(function(s,i){return e("div",{key:i,class:t.selectType===s.typeName?"list-item item-active":"list-item",on:{click:function(e){return t.handleTypeSelect(s.id,s.typeName)}}},[e("span",[t._v(t._s(s.typeName))])])})),t.types.isShowMore?e("button",{staticClass:"more-a"},[t.types.isShowMore?e("span",{staticClass:"more-type",on:{click:t.expand}},[t._v("显示更多")]):t._e()]):t._e()],2):t._e(),e("div",{staticClass:"horizontal-list"},[e("div",{staticClass:"list-title"},[t._v("是否有播放源：")]),t._l(t.palys,(function(s,i){return e("div",{key:i,staticClass:"list-item",class:t.selectPlayID===s.id?"list-item item-active":"list-item",on:{click:function(e){return t.handlePlaySelect(s.id)}}},[e("span",[t._v(t._s(s.name))])])}))],2)]),e("div",[t.movieLoading?t._e():e("div",[e("el-skeleton",{attrs:{row:3,animated:""}})],1),t.movieData.length?e("div",{staticClass:"movie-content"},t._l(t.movieData,(function(t,s){return e("movieItem",{key:s,attrs:{itemData:t}})})),1):t._e()])])},n=[],o=s("b775");function a(t){return Object(o["a"])({url:"/movie/allType",method:"get"})}var r=s("fc91"),c=s("89b3"),l={components:{movieItem:c["a"]},data(){return{typeLoading:!1,movieLoading:!1,types:{orgin:[],short:[],isShowMore:!0},selectType:"ALL",selectPlayID:0,query:{tid:-1,play:0,start:0,num:100},movieData:[],palys:[{name:"不限",id:0},{name:"有播放源",id:1},{name:"无播放源",id:2}],count:0}},methods:{async allTypes(){this.typeLoading=!1,a().then(t=>{this.types.orgin=t.obj,this.types.short=this.types.orgin.slice(0,10),this.types.isShowMore=this.types.orgin.length>10}),this.typeLoading=!0},expand(){this.types.short=this.types.orgin,this.types.isShowMore=!1},handleTypeSelect(t,e){this.selectType!==e&&(this.selectType=e,this.query.tid=t,this.resetQuery(),this.loadData())},resetQuery(){this.query.num=100,this.query.start=0},handlePlaySelect(t){this.selectPlayID!==t&&(this.selectPlayID=t,this.query.play=t,this.resetQuery(),this.loadData())},async loadData(){this.movieLoading=!1,Object(r["e"])(this.query).then(t=>{200===t.code?(this.movieData=t.obj.objs,this.query.start+=this.query.num,this.count=t.obj.count):this.$message.error(t.message)}),this.movieLoading=!0},loadMore(){Object(r["e"])(this.query).then(t=>{200===t.code?(this.movieData.push(...t.obj.objs),this.query.start+=this.query.num,this.count=t.obj.count):this.$message.error(t.message)})},delay(t){setTimeout(()=>{this.loadMore()},t)},listenerOnScroll(){const t=this;window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop,s=document.documentElement.clientHeight||document.body.clientHeight,i=document.documentElement.scrollHeight||document.body.scrollHeight;e+s>i-1&&(null!==t.movieData&&t.movieData.length<t.count?t.delay(200):t.$message.info("没有更多数据"))}}},created(){this.allTypes(),this.loadData()},mounted(){this.listenerOnScroll()},destroyed(){window.onscroll=null}},u=l,m=(s("ac22"),s("2877")),d=Object(m["a"])(u,i,n,!1,null,"98ec4f6e",null);e["default"]=d.exports},"4c2d":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"score",style:{"background-position-y":`-${t.posY}px`}})},n=[],o={name:"rankstar",props:{score:{type:Number}},computed:{posY:function(){let t=0,e=this.score;return t=e>9?0:e>8?11:e>7?22:e>6?33:e>5?44:e>4?55:e>3?66:e>2?77:e>1?88:99,t}}},a=o,r=(s("86ab"),s("2877")),c=Object(r["a"])(a,i,n,!1,null,"009d837d",null);e["a"]=c.exports},"4c48":function(t,e,s){"use strict";s("f0db")},"86ab":function(t,e,s){"use strict";s("fb49")},"89b3":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mv-item",on:{click:t.goDetail}},[e("img",{staticClass:"top-img",attrs:{src:t.itemData.posterURL}}),e("div",{staticClass:"title one-line"},[t._v(t._s(t.itemData.title))]),t.itemData.score?e("div",{staticClass:"score"},[e("div",{staticClass:"score-content"},[e("rankstar",{attrs:{score:null==t.itemData.score?0:2*t.itemData.score}}),e("span",{staticClass:"score-text"},[t._v(t._s(null==t.itemData.score?0:t.itemData.score.toFixed(1)))])],1)]):e("div",{staticClass:"no-score"},[t._v("暂无评分")])])},n=[],o=s("4c2d"),a={name:"movieItem",components:{rankstar:o["a"]},props:{itemData:{type:Object}},methods:{goDetail(){this.$router.push({path:"/movie/"+this.itemData.id})}}},r=a,c=(s("4c48"),s("2877")),l=Object(c["a"])(r,i,n,!1,null,"03e5c80f",null);e["a"]=l.exports},ac22:function(t,e,s){"use strict";s("e4dc")},e4dc:function(t,e,s){},f0db:function(t,e,s){},fb49:function(t,e,s){},fc91:function(t,e,s){"use strict";s.d(e,"c",(function(){return n})),s.d(e,"e",(function(){return o})),s.d(e,"d",(function(){return a})),s.d(e,"h",(function(){return r})),s.d(e,"a",(function(){return c})),s.d(e,"b",(function(){return l})),s.d(e,"i",(function(){return u})),s.d(e,"g",(function(){return m})),s.d(e,"f",(function(){return d}));var i=s("b775");function n(t){return Object(i["a"])({url:"/movie/detail/"+t,method:"get"})}function o(t){return Object(i["a"])({url:"/movie/movies",method:"get",params:t})}function a(t){return Object(i["a"])({url:"/movieRecommend/movie/"+t,method:"get"})}function r(){return Object(i["a"])({url:"/home/getCarousels",method:"get"})}function c(t){return Object(i["a"])({url:"/movie/articleMovieInfo/"+t,method:"get"})}function l(t){return Object(i["a"])({url:"/movie/comments",method:"get",params:t})}function u(t){return Object(i["a"])({url:"/movie/comment",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/movie/videos/"+t,method:"get"})}function d(t){return Object(i["a"])({url:"/home/sysReco",method:"get",params:t})}}}]);
//# sourceMappingURL=chunk-0ea1cfba.e7d33034.js.map