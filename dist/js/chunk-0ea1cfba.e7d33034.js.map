{"version":3,"sources":["webpack:///./src/views/movie/all/index.vue?d6f6","webpack:///./src/api/type.js","webpack:///src/views/movie/all/index.vue","webpack:///./src/views/movie/all/index.vue?91d7","webpack:///./src/views/movie/all/index.vue","webpack:///./src/components/rankstar/rankstar.vue?a4aa","webpack:///src/components/rankstar/rankstar.vue","webpack:///./src/components/rankstar/rankstar.vue?fae3","webpack:///./src/components/rankstar/rankstar.vue","webpack:///./src/components/movieItem/movieItem.vue?6a27","webpack:///./src/components/rankstar/rankstar.vue?8aa6","webpack:///./src/components/movieItem/movieItem.vue?1755","webpack:///src/components/movieItem/movieItem.vue","webpack:///./src/components/movieItem/movieItem.vue?2933","webpack:///./src/components/movieItem/movieItem.vue","webpack:///./src/views/movie/all/index.vue?7c95","webpack:///./src/api/movie.js"],"names":["render","_vm","this","_c","_self","staticClass","typeLoading","_e","attrs","types","short","_v","class","selectType","on","$event","handleTypeSelect","_l","item","index","key","typeName","id","_s","expand","selectPlayID","handlePlaySelect","name","movieLoading","movieData","staticRenderFns","getTypes","request","url","method","components","movieItem","orgin","isShowMore","query","tid","play","start","num","palys","count","methods","then","res","obj","slice","length","type","resetQuery","loadData","code","objs","$message","error","message","push","delay","setTimeout","loadMore","_this","window","onscroll","scrollTop","document","documentElement","body","windowHeight","clientHeight","scrollHeight","info","allTypes","listenerOnScroll","component","style","posY","props","score","Number","computed","s","goDetail","itemData","posterURL","title","toFixed","rankstar","Object","$router","path","getMovieDetail","getMovies","data","params","getMovieRecomendeDetail","listAllPoster","getArticleMovieInfo","getMovieComments","postComment","getVideos","getReco"],"mappings":"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","file":"js/chunk-0ea1cfba.e7d33034.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main-container\"},[_c('div',{staticClass:\"top-list\"},[(!_vm.typeLoading)?_c('div',[_c('el-skeleton',{attrs:{\"row\":1,\"animated\":\"\"}})],1):_vm._e(),(_vm.types.short.length)?_c('div',{staticClass:\"horizontal-list\"},[_c('div',{staticClass:\"list-title\"},[_vm._v(\"类别：\")]),_c('div',{class:_vm.selectType === 'ALL' ? 'list-item item-active' : 'list-item',on:{\"click\":function($event){return _vm.handleTypeSelect(-1, 'ALL')}}},[_vm._v(\" ALL \")]),_vm._l((_vm.types.short),function(item,index){return _c('div',{key:index,class:_vm.selectType === item.typeName ? 'list-item item-active' : 'list-item',on:{\"click\":function($event){return _vm.handleTypeSelect(item.id, item.typeName)}}},[_c('span',[_vm._v(_vm._s(item.typeName))])])}),(_vm.types.isShowMore)?_c('button',{staticClass:\"more-a\"},[(_vm.types.isShowMore)?_c('span',{staticClass:\"more-type\",on:{\"click\":_vm.expand}},[_vm._v(\"显示更多\")]):_vm._e()]):_vm._e()],2):_vm._e(),_c('div',{staticClass:\"horizontal-list\"},[_c('div',{staticClass:\"list-title\"},[_vm._v(\"是否有播放源：\")]),_vm._l((_vm.palys),function(item,index){return _c('div',{key:index,staticClass:\"list-item\",class:_vm.selectPlayID === item.id ? 'list-item item-active' : 'list-item',on:{\"click\":function($event){return _vm.handlePlaySelect(item.id)}}},[_c('span',[_vm._v(_vm._s(item.name))])])})],2)]),_c('div',[(!_vm.movieLoading)?_c('div',[_c('el-skeleton',{attrs:{\"row\":3,\"animated\":\"\"}})],1):_vm._e(),(_vm.movieData.length)?_c('div',{staticClass:\"movie-content\"},_vm._l((_vm.movieData),function(item,index){return _c('movieItem',{key:index,attrs:{\"itemData\":item}})}),1):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from \"@/utils/request\";\r\n\r\nexport function getTypes(id) {\r\n    return request({\r\n        url: '/movie/allType',\r\n        method: 'get'\r\n    })\r\n}","<template>\r\n  <div class=\"main-container\">\r\n    <div class=\"top-list\">\r\n      <div v-if=\"!typeLoading\">\r\n        <el-skeleton :row=\"1\" animated></el-skeleton>\r\n      </div>\r\n      <div class=\"horizontal-list\" v-if=\"types.short.length\">\r\n        <div class=\"list-title\">类别：</div>\r\n        <div\r\n          :class=\"selectType === 'ALL' ? 'list-item item-active' : 'list-item'\"\r\n          @click=\"handleTypeSelect(-1, 'ALL')\"\r\n        >\r\n          ALL\r\n        </div>\r\n        <div\r\n          :class=\"\r\n            selectType === item.typeName ? 'list-item item-active' : 'list-item'\r\n          \"\r\n          v-for=\"(item, index) in types.short\"\r\n          :key=\"index\"\r\n          @click=\"handleTypeSelect(item.id, item.typeName)\"\r\n        >\r\n          <span>{{ item.typeName }}</span>\r\n        </div>\r\n        <button class=\"more-a\" v-if=\"types.isShowMore\">\r\n          <span class=\"more-type\" @click=\"expand\" v-if=\"types.isShowMore\"\r\n            >显示更多</span\r\n          >\r\n        </button>\r\n      </div>\r\n      <div class=\"horizontal-list\">\r\n        <div class=\"list-title\">是否有播放源：</div>\r\n        <div\r\n          class=\"list-item\"\r\n          v-for=\"(item, index) in palys\"\r\n          :key=\"index\"\r\n          :class=\"\r\n            selectPlayID === item.id ? 'list-item item-active' : 'list-item'\r\n          \"\r\n          @click=\"handlePlaySelect(item.id)\"\r\n        >\r\n          <span>{{ item.name }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <div v-if=\"!movieLoading\">\r\n        <el-skeleton :row=\"3\" animated></el-skeleton>\r\n      </div>\r\n      <div\r\n        \r\n        class=\"movie-content\"\r\n        v-if=\"movieData.length\"\r\n      >\r\n        <!-- <div\r\n        v-for=\"(item, index) in movieData\"\r\n        :key=\"index\"\r\n        class=\"mv-item\"\r\n        @click=\"goDetail(item.id)\"\r\n      >\r\n        <img class=\"top-img\" :src=\"item.posterURL\" />\r\n        <div class=\"title one-line\">{{ item.title }}</div>\r\n        <div class=\"score\" v-if=\"item.score\">\r\n          <div class=\"score-content\">\r\n            <rankstar :score=\"item.score * 2\" />\r\n            <span class=\"score-text\">{{ item.score.toFixed(1) }}</span>\r\n          </div>\r\n        </div>\r\n        <div v-else class=\"no-score\">暂无评分</div>\r\n      </div>-->\r\n        <movieItem\r\n          v-for=\"(item, index) in movieData\"\r\n          :itemData=\"item\"\r\n          :key=\"index\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport { getTypes } from \"@/api/type\";\r\nimport { getMovies } from \"@/api/movie\";\r\nimport movieItem from \"@/components/movieItem/movieItem.vue\";\r\n\r\nexport default {\r\n  components: { movieItem },\r\n  data() {\r\n    return {\r\n      typeLoading: false,\r\n      movieLoading: false,\r\n      types: {\r\n        orgin: [],\r\n        short: [],\r\n        isShowMore: true,\r\n      },\r\n      selectType: \"ALL\",\r\n      selectPlayID: 0,\r\n      query: {\r\n        tid: -1,\r\n        play: 0,\r\n        start: 0,\r\n        num: 100,\r\n      },\r\n      movieData: [],\r\n      palys: [\r\n        { name: \"不限\", id: 0 },\r\n        { name: \"有播放源\", id: 1 },\r\n        { name: \"无播放源\", id: 2 },\r\n      ],\r\n      count: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    async allTypes() {\r\n      this.typeLoading = false;\r\n      getTypes().then((res) => {\r\n        this.types.orgin = res.obj;\r\n        this.types.short = this.types.orgin.slice(0, 10);\r\n        this.types.isShowMore = this.types.orgin.length > 10;\r\n      });\r\n      this.typeLoading = true;\r\n    },\r\n    expand() {\r\n      this.types.short = this.types.orgin;\r\n      this.types.isShowMore = false;\r\n    },\r\n    handleTypeSelect(id, type) {\r\n      if (this.selectType === type) return;\r\n      this.selectType = type;\r\n      this.query.tid = id;\r\n      this.resetQuery();\r\n      this.loadData();\r\n    },\r\n    resetQuery() {\r\n      this.query.num = 100;\r\n      this.query.start = 0;\r\n    },\r\n    handlePlaySelect(id) {\r\n      if (this.selectPlayID === id) return;\r\n      this.selectPlayID = id;\r\n      this.query.play = id;\r\n      this.resetQuery();\r\n      this.loadData();\r\n    },\r\n    async loadData() {\r\n      this.movieLoading = false;\r\n      getMovies(this.query).then((res) => {\r\n        if (res.code === 200) {\r\n          this.movieData = res.obj.objs;\r\n          this.query.start += this.query.num;\r\n          this.count = res.obj.count;\r\n          //console.log(this.count)\r\n        } else {\r\n          this.$message.error(res.message);\r\n        }\r\n      });\r\n      this.movieLoading = true;\r\n    },\r\n    loadMore() {\r\n      getMovies(this.query).then((res) => {\r\n        if (res.code === 200) {\r\n          this.movieData.push(...res.obj.objs);\r\n          this.query.start += this.query.num;\r\n          this.count = res.obj.count;\r\n        } else {\r\n          this.$message.error(res.message);\r\n        }\r\n      });\r\n    },\r\n    delay(delay) {\r\n      setTimeout(() => {\r\n        this.loadMore();\r\n      }, delay);\r\n    },\r\n    listenerOnScroll() {\r\n      const _this = this;\r\n      window.onscroll = function () {\r\n        var scrollTop =\r\n          document.documentElement.scrollTop || document.body.scrollTop;\r\n        var windowHeight =\r\n          document.documentElement.clientHeight || document.body.clientHeight;\r\n        var scrollHeight =\r\n          document.documentElement.scrollHeight || document.body.scrollHeight;\r\n        if (scrollTop + windowHeight > scrollHeight - 1) {\r\n          if (\r\n            _this.movieData !== null &&\r\n            _this.movieData.length < _this.count\r\n          ) {\r\n            _this.delay(200);\r\n          } else {\r\n            _this.$message.info(\"没有更多数据\");\r\n          }\r\n        }\r\n      };\r\n    },\r\n  },\r\n  created() {\r\n    this.allTypes();\r\n    this.loadData();\r\n  },\r\n  mounted() {\r\n    this.listenerOnScroll();\r\n  },\r\n  destroyed() {\r\n    window.onscroll = null;\r\n  },\r\n};\r\n</script>\r\n  \r\n<style scoped lang=\"less\">\r\n.main-container {\r\n  display: flex;\r\n  margin: 20px auto;\r\n  width: 85%;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.movie-content {\r\n  margin: 1% 5%;\r\n  min-width: 1000px\r\n}\r\n\r\n.top-list {\r\n  margin: 35px 5% 0 5%;\r\n  width: 100%;\r\n  border: 1px solid #ccc;\r\n}\r\n\r\n.list-item {\r\n  height: 25px;\r\n  margin: 0 15px 15px 15px;\r\n  text-align: center;\r\n  padding-top: 7px;\r\n  cursor: pointer;\r\n}\r\n\r\n.item-active {\r\n  background-color: #99a9bf;\r\n  color: white;\r\n  border-radius: 20px;\r\n}\r\n\r\n.list-title {\r\n  text-align: center;\r\n  padding: 7px 0 0 15px;\r\n}\r\n\r\n.horizontal-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  /*justify-content: space-between;*/\r\n  overflow: hidden;\r\n  margin-top: 20px;\r\n}\r\n\r\n.more-a {\r\n  display: inline-block;\r\n  margin: 7px 15px 15px 0;\r\n  border-radius: 20px;\r\n  border: 0 solid #aaa;\r\n}\r\n.more-type {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n  ","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=98ec4f6e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=98ec4f6e&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"98ec4f6e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"score\",style:({ 'background-position-y': `-${_vm.posY}px` })})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"score\" :style=\"{ 'background-position-y': `-${posY}px` }\"></div>\r\n</template>\r\n\r\n<script>\r\n  import {reactive,computed} from 'vue'\r\n  /**\r\n   * \r\n   */\r\n  export default {\r\n    name: 'rankstar',\r\n    props: {\r\n      score: { // 接收父组件传递的数据\r\n        type: Number\r\n      }\r\n    },\r\n    computed:{\r\n      posY: function() {\r\n        let res = 0\r\n        let s = this.score\r\n        if (s > 9) {\r\n          res = 0\r\n        } else if (s > 8) {\r\n          res = 11\r\n        } else if (s > 7) {\r\n          res = 22\r\n        } else if (s > 6) {\r\n          res = 33\r\n        } else if (s > 5) {\r\n          res = 44\r\n        } else if (s > 4) {\r\n          res = 55\r\n        } else if (s > 3) {\r\n          res = 66\r\n        } else if (s > 2) {\r\n          res = 77\r\n        } else if (s > 1) {\r\n          res = 88\r\n        } else {\r\n          res = 99\r\n        }\r\n\r\n        return res\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .score {\r\n    width: 55px;\r\n    height: 11px;\r\n    background-image: url('./imgs/ic_rating_s@2x.png');\r\n    background-size: cover;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rankstar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rankstar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rankstar.vue?vue&type=template&id=009d837d&scoped=true&\"\nimport script from \"./rankstar.vue?vue&type=script&lang=js&\"\nexport * from \"./rankstar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rankstar.vue?vue&type=style&index=0&id=009d837d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"009d837d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./movieItem.vue?vue&type=style&index=0&id=03e5c80f&prod&scoped=true&lang=less&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rankstar.vue?vue&type=style&index=0&id=009d837d&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mv-item\",on:{\"click\":_vm.goDetail}},[_c('img',{staticClass:\"top-img\",attrs:{\"src\":_vm.itemData.posterURL}}),_c('div',{staticClass:\"title one-line\"},[_vm._v(_vm._s(_vm.itemData.title))]),(_vm.itemData.score)?_c('div',{staticClass:\"score\"},[_c('div',{staticClass:\"score-content\"},[_c('rankstar',{attrs:{\"score\":_vm.itemData.score == null ? 0 : _vm.itemData.score * 2}}),_c('span',{staticClass:\"score-text\"},[_vm._v(_vm._s(_vm.itemData.score == null ? 0 : _vm.itemData.score.toFixed(1)))])],1)]):_c('div',{staticClass:\"no-score\"},[_vm._v(\"暂无评分\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mv-item\" @click=\"goDetail\">\r\n    <img class=\"top-img\" :src=\"itemData.posterURL\" />\r\n    <div class=\"title one-line\">{{ itemData.title }}</div>\r\n    <div class=\"score\" v-if=\"itemData.score\">\r\n      <div class=\"score-content\">\r\n        <rankstar :score=\"itemData.score == null ? 0 : itemData.score * 2\" />\r\n        <span class=\"score-text\">{{ itemData.score == null ? 0 : itemData.score.toFixed(1) }}</span>\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"no-score\">暂无评分</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport rankstar from \"@/components/rankstar/rankstar.vue\";\r\n\r\nexport default {\r\n  name: \"movieItem\",\r\n  components: {\r\n    rankstar,\r\n  },\r\n  props: {\r\n    itemData: {\r\n      type: Object,\r\n    },\r\n  },\r\n  methods:{\r\n    goDetail() {\r\n      this.$router.push({\r\n        path:'/movie/' + this.itemData.id\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\r\n.mv-item {\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n  width: 125px;\r\n  display: inline-block;\r\n  margin-bottom: 10px;\r\n  cursor: pointer;\r\n}\r\n.top-img {\r\n  display: block;\r\n  width: 115px;\r\n  height: 161px;\r\n  background-color: #ccc;\r\n  margin: 0 auto;\r\n}\r\n\r\n.title {\r\n  text-align: center;\r\n  color: #333;\r\n  width: 100px;\r\n  margin: 0 auto;\r\n  font-size: 14px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.score-content {\r\n  display: flex;\r\n  width: 77px;\r\n  margin: 0 auto;\r\n  margin-top: 5px;\r\n}\r\n\r\n.score-text {\r\n  color: #e09015;\r\n  font-size: 12px;\r\n  margin-left: 6px;\r\n  margin-top: -3px;\r\n}\r\n\r\n.no-score {\r\n  margin-top: 2px;\r\n  text-align: center;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./movieItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./movieItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./movieItem.vue?vue&type=template&id=03e5c80f&scoped=true&\"\nimport script from \"./movieItem.vue?vue&type=script&lang=js&\"\nexport * from \"./movieItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./movieItem.vue?vue&type=style&index=0&id=03e5c80f&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03e5c80f\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=98ec4f6e&prod&scoped=true&lang=less&\"","import request from \"@/utils/request\";\r\n\r\nexport function getMovieDetail(id) {\r\n    return request({\r\n        url: '/movie/detail/' + id,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport function getMovies(data) {\r\n    return request({\r\n        url: '/movie/movies',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}\r\n\r\nexport function getMovieRecomendeDetail(id) {\r\n    return request({\r\n        url: '/movieRecommend/movie/' + id,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport function listAllPoster() {\r\n    return request({\r\n        url: \"/home/getCarousels\",\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getArticleMovieInfo(id) {\r\n    return request({\r\n        url: \"/movie/articleMovieInfo/\" + id,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport function getMovieComments(data) {\r\n    return request({\r\n        url: '/movie/comments',\r\n        method: 'get',\r\n        params: data,\r\n    })\r\n}\r\n\r\nexport function postComment(data) {\r\n    return request({\r\n        url: '/movie/comment',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport function getVideos(id) {\r\n    return request({\r\n        url: '/movie/videos/' + id,\r\n        method: 'get',\r\n    })\r\n}\r\n\r\nexport function getReco(data) {\r\n    return request({\r\n        url: '/home/sysReco',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}"],"sourceRoot":""}