(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5651d446"],{2934:function(e,r,t){"use strict";t.d(r,"b",(function(){return o})),t.d(r,"a",(function(){return i}));var s=t("b775");function o(){return Object(s["a"])({url:"/common/getId",method:"get"})}function i(){return Object(s["a"])({url:"/common/getType",method:"get"})}},"353f":function(e,r,t){"use strict";t("f47c")},d5c2:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"login"},[r("el-form",{ref:"loginForm",attrs:{model:e.registerForm,rules:e.registerFormRules,"auto-complete":"on"}},[r("div",{staticClass:"login-form"},[r("div",{staticClass:"login-form-header"},[r("img",{staticStyle:{width:"75px",height:"75px",float:"left","padding-right":"40px"},attrs:{src:t("4ffd"),alt:""}}),r("div",{staticClass:"login-form-text"},[e._v("荐影 - 注册")])]),r("div",{staticStyle:{color:"#91949c","font-weight":"bolder"}},[r("el-form-item",{attrs:{hidden:"",label:"ID",prop:"id"}},[r("el-input",{model:{value:e.registerForm.id,callback:function(r){e.$set(e.registerForm,"id",r)},expression:"registerForm.id"}})],1),r("el-form-item",{attrs:{prop:"username"}},[r("p",[e._v("Username")]),r("el-input",{staticClass:"login-form-input",attrs:{type:"text",placeholder:"请输入用户名"},model:{value:e.registerForm.username,callback:function(r){e.$set(e.registerForm,"username",r)},expression:"registerForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("p",[e._v("Password")]),r("el-input",{key:e.passwordType,ref:"password",staticClass:"login-form-input",attrs:{placeholder:"请输入密码",type:e.passwordType,"show-password":""},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}})],1),r("el-form-item",{attrs:{prop:"checkPassword"}},[r("p",[e._v("Check Password")]),r("el-input",{staticClass:"login-form-input",attrs:{placeholder:"请确认密码","show-password":""},model:{value:e.registerForm.checkPassword,callback:function(r){e.$set(e.registerForm,"checkPassword",r)},expression:"registerForm.checkPassword"}})],1),r("el-form-item",{attrs:{prop:"email"}},[r("p",[e._v("Email")]),r("el-input",{staticClass:"login-form-input",attrs:{placeholder:"请输入邮箱"},model:{value:e.registerForm.email,callback:function(r){e.$set(e.registerForm,"email",r)},expression:"registerForm.email"}})],1),r("el-form-item",{attrs:{prop:"birthday"}},[r("p",[e._v("Birthday")]),r("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.registerForm.birthday,callback:function(r){e.$set(e.registerForm,"birthday",r)},expression:"registerForm.birthday"}})],1),r("el-form-item",{attrs:{prop:"info"}},[r("p",[e._v("Info")]),r("el-input",{staticClass:"login-form-input",attrs:{type:"textarea",placeholder:"请输入简介"},model:{value:e.registerForm.info,callback:function(r){e.$set(e.registerForm,"info",r)},expression:"registerForm.info"}})],1),r("el-form-item",{attrs:{prop:"gender"}},[r("p",[e._v("Gender")]),r("el-radio",{attrs:{label:"1"},model:{value:e.registerForm.gender,callback:function(r){e.$set(e.registerForm,"gender",r)},expression:"registerForm.gender"}},[e._v("男")]),r("el-radio",{attrs:{label:"0"},model:{value:e.registerForm.gender,callback:function(r){e.$set(e.registerForm,"gender",r)},expression:"registerForm.gender"}},[e._v("女")])],1),r("el-form-item",{attrs:{prop:"types"}},[r("p",[e._v("Like Type")]),e._l(e.category,(function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id},model:{value:e.registerForm.types,callback:function(r){e.$set(e.registerForm,"types",r)},expression:"registerForm.types"}},[e._v(e._s(t.typeName)+" ")])}))],2),r("div",{staticStyle:{"padding-top":"10px"}},[r("el-checkbox",{model:{value:e.agree,callback:function(r){e.agree=r},expression:"agree"}},[e._v('我已同意"荐影"用户注册协议!')])],1),r("el-button",{staticClass:"login-form-button",attrs:{type:"primary"},on:{click:e.postLogin}},[e._v("SIGN UP")])],1),r("div",{staticClass:"login-form-footer"},[r("el-link",{staticStyle:{"font-weight":"bolder","font-size":"16px",color:"#91949c"},attrs:{href:"/login",underline:!1}},[e._v(" 我有账号 去登录 "),r("i",{staticClass:"el-icon-right",staticStyle:{"font-weight":"bolder","font-size":"15px"}})])],1)])])],1)},o=[],i=t("c24f"),a=t("2934"),l={data(){const e=(e,r,t)=>{r.length>0?new Promise(()=>{Object(i["b"])({username:r}).then(e=>{200!==e.code?t(new Error(e.message)):t()})}):t(new Error("请输入用户名"))},r=(e,r,t)=>{r.length<6?t(new Error("请输入合适的密码")):t()},t=(e,r,t)=>{""==r||r!==this.registerForm.password?t(new Error("请与密码一致")):t()},s=(e,r,t)=>{if(""===r)t(new Error("请正确填写邮箱"));else{if(""!==r){var s=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;s.test(r)||t(new Error("请输入有效的邮箱"))}t()}};return{registerForm:{id:"",username:"",password:"",checkPassword:"",email:"",birthday:"",info:"",gender:"",types:[]},category:[],agree:!1,registerFormRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:r}],checkPassword:[{required:!0,trigger:"blur",validator:t}],email:[{required:!0,trigger:"blur",validator:s}],birthday:[{required:!0}],info:[{required:!0}],gender:[{required:!0}],types:[{required:!0}]},passwordType:"password"}},methods:{getId(){new Promise(()=>{Object(a["b"])().then(e=>{const{obj:r}=e;this.registerForm.id=r})})},getCategory(){new Promise(()=>{Object(a["a"])().then(e=>{const{obj:r}=e;this.category=r})})},postLogin(){!1!==this.agree?(console.log(this.registerForm),Object(i["j"])(this.registerForm).then(e=>{200===e.code?this.$router.push("/login"):this.$message({message:"注册失败",type:"warning"})})):this.$message({message:'请勾选 我已同意"荐影"用户注册协议!',type:"warning"})}},created(){this.getId(),this.getCategory()}},n=l,c=(t("353f"),t("2877")),d=Object(c["a"])(n,s,o,!1,null,"05505c8f",null);r["default"]=d.exports},f47c:function(e,r,t){}}]);
//# sourceMappingURL=chunk-5651d446.a6dd48bb.js.map