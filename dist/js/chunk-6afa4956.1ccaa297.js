(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6afa4956"],{"4c2d":function(t,e,o){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"score",style:{"background-position-y":`-${t.posY}px`}})},s=[],r={name:"rankstar",props:{score:{type:Number}},computed:{posY:function(){let t=0,e=this.score;return t=e>9?0:e>8?11:e>7?22:e>6?33:e>5?44:e>4?55:e>3?66:e>2?77:e>1?88:99,t}}},n=r,c=(o("86ab"),o("2877")),a=Object(c["a"])(n,i,s,!1,null,"009d837d",null);e["a"]=a.exports},"4c48":function(t,e,o){"use strict";o("f0db")},5484:function(t,e,o){},"7abe":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("el-carousel",{attrs:{height:"500px",type:"card","indicator-position":"outside"},on:{change:t.changeItem}},[e("div",t._l(t.posterList,(function(o,i){return e("el-carousel-item",{key:i},[e("img",{staticStyle:{width:"100%",height:"500px"},attrs:{alt:"",src:o.poster},on:{click:function(e){return t.goMovie(o.mid)}}})])})),1),e("div",{staticClass:"carousel_div"},[e("h3",[t._v(t._s(t.title))])])]),e("div",{staticClass:"main"},[t.recommentData.length?e("div",{staticClass:"panel"},[t._m(0)]):t._e(),e("div",t._l(t.recommentData,(function(t,o){return e("movieItem",{key:o,staticClass:"movie-item",attrs:{itemData:t}})})),1)])],1)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"panel-header"},[e("span",{staticClass:"panel-title"},[e("span",[t._v("系统推荐")])])])}],r=o("fc91"),n=o("89b3"),c=(o("c931"),{components:{movieItem:n["a"]},data(){return{recommentData:[{id:"1",title:"Toy Story (1995)",posterURL:"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg",score:3.8724696356275303},{id:"1",title:"Toy Story (1995)",posterURL:"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg",score:3.8724696356275303},{id:"1",title:"Toy Story (1995)",posterURL:"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg",score:3.8724696356275303},{id:"1",title:"Toy Story (1995)",posterURL:"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg",score:3.8724696356275303},{id:"1",title:"Toy Story (1995)",posterURL:"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg",score:3.8724696356275303},{id:"1",title:"Toy Story (1995)",posterURL:"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg",score:3.8724696356275303},{id:"1",title:"Toy Story (1995)",posterURL:"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg",score:3.8724696356275303},{id:"1",title:"Toy Story (1995)",posterURL:"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg",score:3.8724696356275303},{id:"1",title:"Toy Story (1995)",posterURL:"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg",score:3.8724696356275303}],recommentData:[],posterList:[],title:"",query:{start:0,num:10},count:0}},methods:{goMovie(t){this.$router.push({path:"/movie/"+t})},getList(){Object(r["h"])().then(t=>{this.posterList=null==t.obj?[]:t.obj,null!=t.obj&&(this.title=t.obj[0].title)}),this.loadReco()},loadReco(){Object(r["f"])(this.query).then(t=>{200===t.code&&(this.recommentData=null==t.obj.objs?[]:t.obj.objs,this.query.start+=this.query.num,this.count=t.obj.count)})},changeItem(t){this.title=this.posterList[t].title},loadMore(){Object(r["f"])(this.query).then(t=>{200===t.code?(this.recommentData.push(...t.obj.objs),this.query.start+=this.query.num,this.count=t.obj.count):this.$message.error(t.message)})},delay(t){setTimeout(()=>{this.loadMore()},t)},listenerOnScroll(){const t=this;window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.clientHeight||document.body.clientHeight,i=document.documentElement.scrollHeight||document.body.scrollHeight;e+o>i-1&&(null!==t.recommentData&&t.recommentData.length<t.count?t.delay(200):t.$message.info("没有更多数据"))}}},destroyed(){window.onscroll=null},mounted(){this.getList(),this.listenerOnScroll()}}),a=c,u=(o("932f"),o("2877")),m=Object(u["a"])(a,i,s,!1,null,"f9067880",null);e["default"]=m.exports},"86ab":function(t,e,o){"use strict";o("fb49")},"89b3":function(t,e,o){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mv-item",on:{click:t.goDetail}},[e("img",{staticClass:"top-img",attrs:{src:t.itemData.posterURL}}),e("div",{staticClass:"title one-line"},[t._v(t._s(t.itemData.title))]),t.itemData.score?e("div",{staticClass:"score"},[e("div",{staticClass:"score-content"},[e("rankstar",{attrs:{score:null==t.itemData.score?0:2*t.itemData.score}}),e("span",{staticClass:"score-text"},[t._v(t._s(null==t.itemData.score?0:t.itemData.score.toFixed(1)))])],1)]):e("div",{staticClass:"no-score"},[t._v("暂无评分")])])},s=[],r=o("4c2d"),n={name:"movieItem",components:{rankstar:r["a"]},props:{itemData:{type:Object}},methods:{goDetail(){this.$router.push({path:"/movie/"+this.itemData.id})}}},c=n,a=(o("4c48"),o("2877")),u=Object(a["a"])(c,i,s,!1,null,"03e5c80f",null);e["a"]=u.exports},"932f":function(t,e,o){"use strict";o("5484")},c931:function(t,e,o){},f0db:function(t,e,o){},fb49:function(t,e,o){},fc91:function(t,e,o){"use strict";o.d(e,"c",(function(){return s})),o.d(e,"e",(function(){return r})),o.d(e,"d",(function(){return n})),o.d(e,"h",(function(){return c})),o.d(e,"a",(function(){return a})),o.d(e,"b",(function(){return u})),o.d(e,"i",(function(){return m})),o.d(e,"g",(function(){return l})),o.d(e,"f",(function(){return p}));var i=o("b775");function s(t){return Object(i["a"])({url:"/movie/detail/"+t,method:"get"})}function r(t){return Object(i["a"])({url:"/movie/movies",method:"get",params:t})}function n(t){return Object(i["a"])({url:"/movieRecommend/movie/"+t,method:"get"})}function c(){return Object(i["a"])({url:"/home/getCarousels",method:"get"})}function a(t){return Object(i["a"])({url:"/movie/articleMovieInfo/"+t,method:"get"})}function u(t){return Object(i["a"])({url:"/movie/comments",method:"get",params:t})}function m(t){return Object(i["a"])({url:"/movie/comment",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/movie/videos/"+t,method:"get"})}function p(t){return Object(i["a"])({url:"/home/sysReco",method:"get",params:t})}}}]);
//# sourceMappingURL=chunk-6afa4956.1ccaa297.js.map