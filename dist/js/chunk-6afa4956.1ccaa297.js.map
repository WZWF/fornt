{"version":3,"sources":["webpack:///./src/components/rankstar/rankstar.vue?a4aa","webpack:///src/components/rankstar/rankstar.vue","webpack:///./src/components/rankstar/rankstar.vue?fae3","webpack:///./src/components/rankstar/rankstar.vue","webpack:///./src/components/movieItem/movieItem.vue?6a27","webpack:///./src/views/home/index.vue?ff37","webpack:///src/views/home/index.vue","webpack:///./src/views/home/index.vue?1656","webpack:///./src/views/home/index.vue","webpack:///./src/components/rankstar/rankstar.vue?8aa6","webpack:///./src/components/movieItem/movieItem.vue?1755","webpack:///src/components/movieItem/movieItem.vue","webpack:///./src/components/movieItem/movieItem.vue?2933","webpack:///./src/components/movieItem/movieItem.vue","webpack:///./src/views/home/index.vue?8c02","webpack:///./src/api/movie.js"],"names":["render","_vm","this","_c","_self","staticClass","style","posY","staticRenderFns","name","props","score","type","Number","computed","res","s","component","attrs","on","changeItem","_l","item","index","key","staticStyle","poster","$event","goMovie","mid","_v","_s","title","recommentData","_m","_e","components","movieItem","id","posterURL","posterList","query","start","num","count","methods","$router","push","path","then","obj","loadReco","code","objs","idx","$message","error","message","delay","setTimeout","loadMore","_this","window","onscroll","scrollTop","document","documentElement","body","windowHeight","clientHeight","scrollHeight","length","info","getList","listenerOnScroll","goDetail","itemData","toFixed","rankstar","Object","getMovieDetail","url","method","getMovies","data","params","getMovieRecomendeDetail","listAllPoster","getArticleMovieInfo","getMovieComments","postComment","getVideos","getReco"],"mappings":"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","file":"js/chunk-6afa4956.1ccaa297.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"score\",style:({ 'background-position-y': `-${_vm.posY}px` })})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"score\" :style=\"{ 'background-position-y': `-${posY}px` }\"></div>\r\n</template>\r\n\r\n<script>\r\n  import {reactive,computed} from 'vue'\r\n  /**\r\n   * \r\n   */\r\n  export default {\r\n    name: 'rankstar',\r\n    props: {\r\n      score: { // 接收父组件传递的数据\r\n        type: Number\r\n      }\r\n    },\r\n    computed:{\r\n      posY: function() {\r\n        let res = 0\r\n        let s = this.score\r\n        if (s > 9) {\r\n          res = 0\r\n        } else if (s > 8) {\r\n          res = 11\r\n        } else if (s > 7) {\r\n          res = 22\r\n        } else if (s > 6) {\r\n          res = 33\r\n        } else if (s > 5) {\r\n          res = 44\r\n        } else if (s > 4) {\r\n          res = 55\r\n        } else if (s > 3) {\r\n          res = 66\r\n        } else if (s > 2) {\r\n          res = 77\r\n        } else if (s > 1) {\r\n          res = 88\r\n        } else {\r\n          res = 99\r\n        }\r\n\r\n        return res\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .score {\r\n    width: 55px;\r\n    height: 11px;\r\n    background-image: url('./imgs/ic_rating_s@2x.png');\r\n    background-size: cover;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rankstar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rankstar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rankstar.vue?vue&type=template&id=009d837d&scoped=true&\"\nimport script from \"./rankstar.vue?vue&type=script&lang=js&\"\nexport * from \"./rankstar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rankstar.vue?vue&type=style&index=0&id=009d837d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"009d837d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./movieItem.vue?vue&type=style&index=0&id=03e5c80f&prod&scoped=true&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"app\"},[_c('el-carousel',{attrs:{\"height\":\"500px\",\"type\":\"card\",\"indicator-position\":\"outside\"},on:{\"change\":_vm.changeItem}},[_c('div',_vm._l((_vm.posterList),function(item,index){return _c('el-carousel-item',{key:index},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"500px\"},attrs:{\"alt\":\"\",\"src\":item.poster},on:{\"click\":function($event){return _vm.goMovie(item.mid)}}})])}),1),_c('div',{staticClass:\"carousel_div\"},[_c('h3',[_vm._v(_vm._s(_vm.title))])])]),_c('div',{staticClass:\"main\"},[(_vm.recommentData.length)?_c('div',{staticClass:\"panel\"},[_vm._m(0)]):_vm._e(),_c('div',_vm._l((_vm.recommentData),function(item,index){return _c('movieItem',{key:index,staticClass:\"movie-item\",attrs:{\"itemData\":item}})}),1)])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title\"},[_c('span',[_vm._v(\"系统推荐\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"app\">\r\n    <el-carousel\r\n      height=\"500px\"\r\n      type=\"card\"\r\n      indicator-position=\"outside\"\r\n      @change=\"changeItem\"\r\n    >\r\n      <div>\r\n        <el-carousel-item v-for=\"(item, index) in posterList\" :key=\"index\">\r\n          <img\r\n            alt=\"\"\r\n            @click=\"goMovie(item.mid)\"\r\n            :src=\"item.poster\"\r\n            style=\"width: 100%; height: 500px\"\r\n          />\r\n          <!-- <div class=\"carousel_div\">\r\n            <h3>{{ item.title }}</h3>\r\n          </div> -->\r\n        </el-carousel-item>\r\n      </div>\r\n      <div class=\"carousel_div\">\r\n        <h3>{{ title }}</h3>\r\n      </div>\r\n    </el-carousel>\r\n    <div class=\"main\">\r\n      <div class=\"panel\" v-if=\"recommentData.length\">\r\n        <div class=\"panel-header\">\r\n          <span class=\"panel-title\">\r\n            <span\r\n              >系统推荐</span\r\n            >\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <movieItem\r\n          v-for=\"(item, index) in recommentData\"\r\n          :key=\"index\"\r\n          :itemData=\"item\"\r\n          class=\"movie-item\"\r\n        ></movieItem>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <div class=\"main\">\r\n      <div class=\"movie-grid\">\r\n        <div class=\"panel\">\r\n          <div class=\"panel-header\">\r\n            <span class=\"panel-title\">\r\n              <span class=\"textcolor_orange\"\r\n                >正在热播 ( {{ filmList.length }} )</span\r\n              >\r\n            </span>\r\n          </div>\r\n          <div class=\"panel-content\">\r\n            <dl class=\"movie-list\">\r\n              <dd v-for=\"item in posterList\" :key=\"item\">\r\n                <router-link :to=\"'/film/info?fid=' + item.id\">\r\n                  <div class=\"movie-item\">\r\n                    <div class=\"movie-poster\">\r\n                      <img class=\"poster-default\" alt=\"\" :src=\"item.poster\" />\r\n                      <img\r\n                        class=\"movie-poster-img\"\r\n                        alt=\"不要先生与好的女士海报封面\"\r\n                        :src=\"item.title\"\r\n                      />\r\n                      <div class=\"movie-overlay movie-overlay-bg\">\r\n                        <div class=\"movie-info\">\r\n                          <div class=\"movie-title\" title=\"\">\r\n                            {{ item.title }}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"movie-detail movie-wish\">\r\n                      <span class=\"stonefont\">123</span>人想看\r\n                    </div>\r\n                    <div class=\"movie-ver\"></div>\r\n                  </div>\r\n                  <div class=\"movie-detail movie-rt\">\r\n                    {{ item.releaseTime }} 上映\r\n                  </div>\r\n                </router-link>\r\n              </dd>\r\n            </dl>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { listAllPoster, getReco } from \"@/api/movie\";\r\nimport movieItem from \"@/components/movieItem/movieItem.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    movieItem,\r\n  },\r\n  data() {\r\n    return {\r\n      recommentData: [\r\n        {\r\n          id: \"1\",\r\n          title: \"Toy Story (1995)\",\r\n          posterURL:\r\n            \"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\",\r\n          score: 3.8724696356275303,\r\n        },\r\n        {\r\n          id: \"1\",\r\n          title: \"Toy Story (1995)\",\r\n          posterURL:\r\n            \"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\",\r\n          score: 3.8724696356275303,\r\n        },\r\n        {\r\n          id: \"1\",\r\n          title: \"Toy Story (1995)\",\r\n          posterURL:\r\n            \"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\",\r\n          score: 3.8724696356275303,\r\n        },\r\n        {\r\n          id: \"1\",\r\n          title: \"Toy Story (1995)\",\r\n          posterURL:\r\n            \"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\",\r\n          score: 3.8724696356275303,\r\n        },\r\n        {\r\n          id: \"1\",\r\n          title: \"Toy Story (1995)\",\r\n          posterURL:\r\n            \"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\",\r\n          score: 3.8724696356275303,\r\n        },\r\n        {\r\n          id: \"1\",\r\n          title: \"Toy Story (1995)\",\r\n          posterURL:\r\n            \"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\",\r\n          score: 3.8724696356275303,\r\n        },\r\n        {\r\n          id: \"1\",\r\n          title: \"Toy Story (1995)\",\r\n          posterURL:\r\n            \"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\",\r\n          score: 3.8724696356275303,\r\n        },\r\n        {\r\n          id: \"1\",\r\n          title: \"Toy Story (1995)\",\r\n          posterURL:\r\n            \"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\",\r\n          score: 3.8724696356275303,\r\n        },\r\n        {\r\n          id: \"1\",\r\n          title: \"Toy Story (1995)\",\r\n          posterURL:\r\n            \"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\",\r\n          score: 3.8724696356275303,\r\n        },\r\n      ],\r\n      recommentData:[],\r\n      posterList: [],\r\n      title: \"\",\r\n      query: {\r\n        start: 0,\r\n        num: 10,\r\n      },\r\n      count: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    goMovie(mid) {\r\n      this.$router.push({\r\n        path: \"/movie/\" + mid,\r\n      });\r\n    },\r\n    getList() {\r\n      listAllPoster().then((res) => {\r\n        this.posterList = res.obj == null ? [] : res.obj;\r\n        if (res.obj != null) this.title = res.obj[0].title;\r\n      });\r\n      this.loadReco()\r\n    },\r\n    loadReco() {\r\n      getReco(this.query).then((res) => {\r\n        if (res.code === 200) {\r\n          this.recommentData = res.obj.objs == null ? [] : res.obj.objs;\r\n          this.query.start += this.query.num;\r\n          this.count = res.obj.count;\r\n        }\r\n      })\r\n    },\r\n    changeItem(idx) {\r\n      this.title = this.posterList[idx].title;\r\n    },\r\n    loadMore() {\r\n      getReco(this.query).then((res) => {\r\n        if (res.code === 200) {\r\n          this.recommentData.push(...res.obj.objs);\r\n          this.query.start += this.query.num;\r\n          this.count = res.obj.count;\r\n        } else {\r\n          this.$message.error(res.message);\r\n        }\r\n      });\r\n    },\r\n    delay(delay) {\r\n      setTimeout(() => {\r\n        this.loadMore();\r\n      }, delay);\r\n    },\r\n    listenerOnScroll() {\r\n      const _this = this;\r\n      window.onscroll = function () {\r\n        var scrollTop =\r\n          document.documentElement.scrollTop || document.body.scrollTop;\r\n        var windowHeight =\r\n          document.documentElement.clientHeight || document.body.clientHeight;\r\n        var scrollHeight =\r\n          document.documentElement.scrollHeight || document.body.scrollHeight;\r\n        if (scrollTop + windowHeight > scrollHeight - 1) {\r\n          if (\r\n            _this.recommentData !== null &&\r\n            _this.recommentData.length < _this.count\r\n          ) {\r\n            _this.delay(200);\r\n          } else {\r\n            _this.$message.info(\"没有更多数据\");\r\n          }\r\n        }\r\n      };\r\n    },\r\n  },\r\n  destroyed() {\r\n    window.onscroll = null;\r\n  },\r\n  mounted() {\r\n    this.getList();\r\n    this.listenerOnScroll();\r\n  },\r\n};\r\nimport \"@/assets/css/home.css\";\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.app {\r\n  padding: 50px 120px;\r\n}\r\n\r\n.main {\r\n  float: left;\r\n  padding: 40px;\r\n  padding-top: 0px;\r\n\r\n  .panel {\r\n    margin: 20px;\r\n     .panel-title{\r\n       color: #000;\r\n       font-family: 微软雅黑;\r\n     }\r\n  }\r\n}\r\n\r\n.carousel_div {\r\n  position: absolute;\r\n  width: 100%;\r\n  text-align: center;\r\n  //background-color: rgb(80, 80, 80, 0.1);\r\n  background: none;\r\n  box-shadow: -11px -34px 100px 10px grey;\r\n  bottom: 24px;\r\n  z-index: 10;\r\n}\r\n\r\n.carousel_div h3 {\r\n  text-align: center;\r\n  color: white;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f9067880&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f9067880&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9067880\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rankstar.vue?vue&type=style&index=0&id=009d837d&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mv-item\",on:{\"click\":_vm.goDetail}},[_c('img',{staticClass:\"top-img\",attrs:{\"src\":_vm.itemData.posterURL}}),_c('div',{staticClass:\"title one-line\"},[_vm._v(_vm._s(_vm.itemData.title))]),(_vm.itemData.score)?_c('div',{staticClass:\"score\"},[_c('div',{staticClass:\"score-content\"},[_c('rankstar',{attrs:{\"score\":_vm.itemData.score == null ? 0 : _vm.itemData.score * 2}}),_c('span',{staticClass:\"score-text\"},[_vm._v(_vm._s(_vm.itemData.score == null ? 0 : _vm.itemData.score.toFixed(1)))])],1)]):_c('div',{staticClass:\"no-score\"},[_vm._v(\"暂无评分\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mv-item\" @click=\"goDetail\">\r\n    <img class=\"top-img\" :src=\"itemData.posterURL\" />\r\n    <div class=\"title one-line\">{{ itemData.title }}</div>\r\n    <div class=\"score\" v-if=\"itemData.score\">\r\n      <div class=\"score-content\">\r\n        <rankstar :score=\"itemData.score == null ? 0 : itemData.score * 2\" />\r\n        <span class=\"score-text\">{{ itemData.score == null ? 0 : itemData.score.toFixed(1) }}</span>\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"no-score\">暂无评分</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport rankstar from \"@/components/rankstar/rankstar.vue\";\r\n\r\nexport default {\r\n  name: \"movieItem\",\r\n  components: {\r\n    rankstar,\r\n  },\r\n  props: {\r\n    itemData: {\r\n      type: Object,\r\n    },\r\n  },\r\n  methods:{\r\n    goDetail() {\r\n      this.$router.push({\r\n        path:'/movie/' + this.itemData.id\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\r\n.mv-item {\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n  width: 125px;\r\n  display: inline-block;\r\n  margin-bottom: 10px;\r\n  cursor: pointer;\r\n}\r\n.top-img {\r\n  display: block;\r\n  width: 115px;\r\n  height: 161px;\r\n  background-color: #ccc;\r\n  margin: 0 auto;\r\n}\r\n\r\n.title {\r\n  text-align: center;\r\n  color: #333;\r\n  width: 100px;\r\n  margin: 0 auto;\r\n  font-size: 14px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.score-content {\r\n  display: flex;\r\n  width: 77px;\r\n  margin: 0 auto;\r\n  margin-top: 5px;\r\n}\r\n\r\n.score-text {\r\n  color: #e09015;\r\n  font-size: 12px;\r\n  margin-left: 6px;\r\n  margin-top: -3px;\r\n}\r\n\r\n.no-score {\r\n  margin-top: 2px;\r\n  text-align: center;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./movieItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./movieItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./movieItem.vue?vue&type=template&id=03e5c80f&scoped=true&\"\nimport script from \"./movieItem.vue?vue&type=script&lang=js&\"\nexport * from \"./movieItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./movieItem.vue?vue&type=style&index=0&id=03e5c80f&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03e5c80f\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f9067880&prod&lang=less&scoped=true&\"","import request from \"@/utils/request\";\r\n\r\nexport function getMovieDetail(id) {\r\n    return request({\r\n        url: '/movie/detail/' + id,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport function getMovies(data) {\r\n    return request({\r\n        url: '/movie/movies',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}\r\n\r\nexport function getMovieRecomendeDetail(id) {\r\n    return request({\r\n        url: '/movieRecommend/movie/' + id,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport function listAllPoster() {\r\n    return request({\r\n        url: \"/home/getCarousels\",\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getArticleMovieInfo(id) {\r\n    return request({\r\n        url: \"/movie/articleMovieInfo/\" + id,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport function getMovieComments(data) {\r\n    return request({\r\n        url: '/movie/comments',\r\n        method: 'get',\r\n        params: data,\r\n    })\r\n}\r\n\r\nexport function postComment(data) {\r\n    return request({\r\n        url: '/movie/comment',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport function getVideos(id) {\r\n    return request({\r\n        url: '/movie/videos/' + id,\r\n        method: 'get',\r\n    })\r\n}\r\n\r\nexport function getReco(data) {\r\n    return request({\r\n        url: '/home/sysReco',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}"],"sourceRoot":""}