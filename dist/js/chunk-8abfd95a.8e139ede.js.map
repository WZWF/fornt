{"version":3,"sources":["webpack:///./src/views/forum/components/commentItem.vue?9727","webpack:///./src/api/forum.js","webpack:///./src/views/forum/components/commentItemList.vue?9e31","webpack:///./src/views/forum/articleDetail.vue?9f50","webpack:///./src/views/forum/components/commentPost.vue?bf4a","webpack:///./src/components/rankstar/rankstar.vue?a4aa","webpack:///src/components/rankstar/rankstar.vue","webpack:///./src/components/rankstar/rankstar.vue?fae3","webpack:///./src/components/rankstar/rankstar.vue","webpack:///./src/components/rankstar/rankstar.vue?8aa6","webpack:///./src/views/forum/components/commentList.vue?78f9","webpack:///./src/views/forum/articleDetail.vue?1615","webpack:///./src/views/forum/components/commentList.vue?1f4e","webpack:///./src/views/forum/components/commentPost.vue?3a5a","webpack:///src/views/forum/components/commentPost.vue","webpack:///./src/views/forum/components/commentPost.vue?65b4","webpack:///./src/views/forum/components/commentPost.vue","webpack:///./src/views/forum/components/commentItemList.vue?3e8e","webpack:///./src/views/forum/components/commentItem.vue?de73","webpack:///src/views/forum/components/commentItem.vue","webpack:///./src/views/forum/components/commentItem.vue?c460","webpack:///./src/views/forum/components/commentItem.vue","webpack:///src/views/forum/components/commentItemList.vue","webpack:///./src/views/forum/components/commentItemList.vue?a28b","webpack:///./src/views/forum/components/commentItemList.vue","webpack:///src/views/forum/components/commentList.vue","webpack:///./src/views/forum/components/commentList.vue?b6ea","webpack:///./src/views/forum/components/commentList.vue","webpack:///src/views/forum/articleDetail.vue","webpack:///./src/views/forum/articleDetail.vue?e24f","webpack:///./src/views/forum/articleDetail.vue","webpack:///./src/api/movie.js"],"names":["getArticleList","data","url","method","params","getArticleDetail","id","getUserLike","eid","uid","likeArticle","aid","authorId","postComment","loadCommentList","likeComment","postArticle","render","_vm","this","_c","_self","staticClass","style","posY","staticRenderFns","name","props","score","type","Number","computed","res","s","component","staticStyle","width","global","bodyWidth","articleInfo","status","_v","_e","_s","title","attrs","userImg","username","createTime","readCount","user","articleId","domProps","content","movieData","posterURL","toFixed","descri","on","updateCommentCount","likeCount","doLikeHandler","class","hasLike","commentCount","$event","goToPostion","ref","previewImgList","count","orderType","orderChange","postCommentFinish","commentList","queryInfo","articleUserId","loading","loadComment","avatar","formData","rules","placeholderInfo","model","value","callback","$$v","$set","expression","postCommentDo","String","pCommentId","replyUserId","userId","default","checkPostComment","rule","Error","message","required","validator","min","methods","token","$refs","formDataRef","validate","async","valid","then","code","resetFields","$emit","obj","$message","error","$router","push","query","redirect","currentRoute","fullPath","$store","state","length","_m","_l","item","index","key","refInFor","currentUserInfo","hiddenAllReplyHandler","curPage","pageSize","handlePageNoChange","commentData","dateFormat","isLike","doLike","showReplyPanel","sub","replyUsername","directives","rawName","currentUserId","components","commentPost","Object","self","curData","haveShow","undefined","showReply","$forceUpdate","children","cid","time","date","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","commentItem","Array","Boolean","newPage","forEach","element","update","commentItemList","resultData","unshift","coount","objs","rankstar","imageViewerRef","watch","val","getDetail","immediate","success","document","querySelector","scrollIntoView","$nextTick","imageNodeList","querySelectorAll","imageList","src","getAttribute","addEventListener","show","imagePreview","mid","getMovieDetail","getMovies","getMovieRecomendeDetail","listAllPoster","getArticleMovieInfo","getMovieComments","getVideos","getReco"],"mappings":"kHAAA,W,kCCAA,gSAEO,SAASA,EAAeC,GAC3B,OAAO,eAAQ,CACXC,IAAK,qBACLC,OAAQ,MACRC,OAAQH,IAIT,SAASI,EAAiBC,GAC7B,OAAO,eAAQ,CACXJ,IAAK,iBAAmBI,EACxBH,OAAQ,QAIT,SAASI,EAAYC,EAAKC,GAC7B,OAAO,eAAQ,CACXP,IAAK,kBACLC,OAAQ,MACRC,OAAQ,CAAEI,MAAKC,SAIhB,SAASC,EAAYC,EAAKF,EAAKG,GAClC,OAAO,eAAQ,CACXV,IAAK,qBACLC,OAAQ,MACRC,OAAQ,CAAEO,MAAKF,MAAKG,cAIrB,SAASC,EAAYZ,GACxB,OAAO,eAAQ,CACXC,IAAK,iBACLC,OAAQ,OACRF,SAID,SAASa,EAAgBH,EAAKV,GACjC,OAAO,eAAQ,CACXC,IAAK,mBAAqBS,EAC1BR,OAAQ,MACRC,OAAQH,IAIT,SAASc,EAAYd,GACxB,OAAO,eAAQ,CACXC,IAAK,qBACLC,OAAQ,MACRC,OAAQH,IAIT,SAASe,EAAYf,GACxB,OAAO,eAAQ,CACXC,IAAK,iBACLC,OAAQ,OACRF,W,oCC7DR,W,kCCAA,W,6DCAA,W,oCCAA,IAAIgB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQC,MAAM,CAAG,wBAAyB,IAAIL,EAAIM,aAEvIC,EAAkB,GCOL,GACbC,KAAM,WACNC,MAAO,CACLC,MAAO,CACLC,KAAMC,SAGVC,SAAS,CACPP,KAAM,WACJ,IAAIQ,EAAM,EACNC,EAAId,KAAKS,MAuBb,OArBEI,EADEC,EAAI,EACA,EACGA,EAAI,EACP,GACGA,EAAI,EACP,GACGA,EAAI,EACP,GACGA,EAAI,EACP,GACGA,EAAI,EACP,GACGA,EAAI,EACP,GACGA,EAAI,EACP,GACGA,EAAI,EACP,GAEA,GAGDD,KC1CwL,I,wBCQnME,EAAY,eACd,EACAjB,EACAQ,GACA,EACA,KACA,WACA,MAIa,OAAAS,E,+FCnBf,W,2DCAA,W,yCCAA,IAAIjB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAEF,EAAe,YAAEE,EAAG,MAAM,CAACE,YAAY,iBAAiBa,YAAY,CAAC,MAAQ,QAAQ,CAACf,EAAG,MAAM,CAACE,YAAY,mBAAmBC,MAAM,CAAGa,MAAOjB,KAAKkB,OAAOC,UAAY,IAAM,OAAS,CAAClB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAA4B,GAA1BJ,EAAIqB,YAAYC,OAAapB,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACJ,EAAIuB,GAAG,SAASvB,EAAIwB,KAAKxB,EAAIuB,GAAG,IAAIvB,EAAIyB,GAAGzB,EAAIqB,YAAYK,OAAO,OAAOxB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,WAAW,CAACE,YAAY,aAAauB,MAAM,CAAC,IAAM3B,EAAIqB,YAAYO,YAAY,GAAG1B,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,cAAc,CAACE,YAAY,mBAAmBuB,MAAM,CAAC,GAAK,SAAS3B,EAAIqB,YAAY9B,MAAQ,CAACS,EAAIuB,GAAGvB,EAAIyB,GAAGzB,EAAIqB,YAAYQ,aAAa3B,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACF,EAAIuB,GAAGvB,EAAIyB,GAAGzB,EAAIqB,YAAYS,eAAe5B,EAAG,OAAO,CAACE,YAAY,2BAA2B,CAACJ,EAAIuB,GAAG,IAAIvB,EAAIyB,GAAgC,GAA7BzB,EAAIqB,YAAYU,UAAiB,KAAO/B,EAAIqB,YAAYU,WAAW,OAAQ/B,EAAIqB,YAAY9B,KAAOS,EAAIgC,KAAKzC,IAAKW,EAAG,cAAc,CAACE,YAAY,kBAAkBuB,MAAM,CAAC,GAAK,aAAa3B,EAAIqB,YAAYY,YAAc,CAAC/B,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACJ,EAAIuB,GAAG,UAAUvB,EAAIwB,MAAM,IAAI,KAAKtB,EAAG,MAAM,CAACE,YAAY,SAASuB,MAAM,CAAC,GAAK,UAAUO,SAAS,CAAC,UAAYlC,EAAIyB,GAAGzB,EAAIqB,YAAYc,cAAenC,EAAIqB,YAAe,IAAEnB,EAAG,MAAM,CAACE,YAAY,mBAAmBuB,MAAM,CAAC,GAAK,oBAAoB,CAACzB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIuB,GAAG,UAAUrB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWuB,MAAM,CAAC,IAAM3B,EAAIoC,UAAUC,aAAanC,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,cAAc,CAACE,YAAY,QAAQuB,MAAM,CAAC,GAAK,UAAY3B,EAAIoC,UAAUhD,KAAK,CAACc,EAAG,MAAM,CAACF,EAAIuB,GAAGvB,EAAIyB,GAAGzB,EAAIoC,UAAU5B,WAAWN,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,WAAW,CAACE,YAAY,YAAYuB,MAAM,CAAC,MAA+B,MAAvB3B,EAAIoC,UAAU1B,MAAgB,EAA0B,EAAtBV,EAAIoC,UAAU1B,SAAaR,EAAG,MAAM,CAACE,YAAY,cAAc,CAACJ,EAAIuB,GAAG,IAAIvB,EAAIyB,GAA0B,MAAvBzB,EAAIoC,UAAU1B,MAAgB,EAAIV,EAAIoC,UAAU1B,MAAM4B,QAAQ,IAAI,QAAQ,GAAGpC,EAAG,MAAM,CAACE,YAAY,QAAQa,YAAY,CAAC,aAAa,QAAQ,CAACjB,EAAIuB,GAAG,IAAIvB,EAAIyB,GAAGzB,EAAIoC,UAAUG,QAAQ,QAAQ,OAAOvC,EAAIwB,KAAgC,GAA1BxB,EAAIqB,YAAYC,OAAapB,EAAG,MAAM,CAACE,YAAY,gBAAgBuB,MAAM,CAAC,GAAK,iBAAiB,CAAE3B,EAAIqB,YAAc,GAAEnB,EAAG,cAAc,CAACyB,MAAM,CAAC,UAAY3B,EAAIqB,YAAYjC,GAAG,cAAgBY,EAAIqB,YAAY9B,KAAKiD,GAAG,CAAC,mBAAqBxC,EAAIyC,sBAAsBzC,EAAIwB,MAAM,GAAGxB,EAAIwB,SAASxB,EAAIwB,KAAKtB,EAAG,MAAM,CAACE,YAAY,cAAca,YAAY,CAAC,KAAO,QAAQ,CAACf,EAAG,WAAW,CAACyB,MAAM,CAAC,MAAQ3B,EAAIqB,YAAYqB,UAAU,KAAO,OAAO,QAAU1C,EAAIqB,YAAYqB,UAAY,IAAI,CAACxC,EAAG,MAAM,CAACE,YAAY,aAAaoC,GAAG,CAAC,MAAQxC,EAAI2C,gBAAgB,CAACzC,EAAG,OAAO,CAAC0C,MAAM,CAAC,qBAAsB5C,EAAI6C,QAAU,YAAc,UAAU3C,EAAG,WAAW,CAACyB,MAAM,CAAC,MAAQ3B,EAAIqB,YAAYyB,aAAa,KAAO,OAAO,QAAU9C,EAAIqB,YAAYyB,aAAe,IAAI,CAAC5C,EAAG,MAAM,CAACE,YAAY,aAAaoC,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO/C,EAAIgD,YAAY,mBAAmB,CAAC9C,EAAG,OAAO,CAACE,YAAY,+BAA+B,GAAGF,EAAG,cAAc,CAAC+C,IAAI,iBAAiBtB,MAAM,CAAC,UAAY3B,EAAIkD,mBAAmB,IAE1oG3C,EAAkB,G,YCFlB,EAAS,WAAkB,IAAIP,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIuB,GAAG,OAAOrB,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIuB,GAAGvB,EAAIyB,GAAGzB,EAAImD,YAAYjD,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,OAAO,CAAC0C,MAAM,CAAC,WAA6B,GAAjB5C,EAAIoD,UAAiB,SAAW,IAAIZ,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO/C,EAAIqD,YAAY,MAAM,CAACrD,EAAIuB,GAAG,QAAQrB,EAAG,aAAa,CAACyB,MAAM,CAAC,UAAY,cAAczB,EAAG,OAAO,CAAC0C,MAAM,CAAC,WAA6B,GAAjB5C,EAAIoD,UAAiB,SAAW,IAAIZ,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO/C,EAAIqD,YAAY,MAAM,CAACrD,EAAIuB,GAAG,SAAS,KAAKrB,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,cAAc,CAACyB,MAAM,CAAC,UAAY3B,EAAIiC,UAAU,WAAa,IAAI,OAASjC,EAAIgC,KAAK5C,IAAIoD,GAAG,CAAC,kBAAoBxC,EAAIsD,sBAAsB,GAAGpD,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,kBAAkB,CAACyB,MAAM,CAAC,KAAO3B,EAAIuD,YAAY,UAAYvD,EAAIwD,UAAU,MAAQxD,EAAImD,MAAM,cAAgBnD,EAAIyD,cAAc,UAAYzD,EAAIiC,UAAU,QAAUjC,EAAI0D,QAAQ,gBAAkB1D,EAAIgC,MAAMQ,GAAG,CAAC,SAAWxC,EAAI2D,gBAAgB,MAE7jC,EAAkB,G,YCFlB,EAAS,WAAkB,IAAI3D,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAAEJ,EAAIgC,KAAO,GAAE9B,EAAG,WAAW,CAACE,YAAY,aAAauB,MAAM,CAAC,IAAM3B,EAAIgC,KAAK4B,UAAU5D,EAAIwB,KAAOxB,EAAIgC,KAAK5C,GAAuDY,EAAIwB,KAAvDtB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACJ,EAAIuB,GAAG,UAAmB,GAAGrB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,UAAU,CAAC+C,IAAI,cAActB,MAAM,CAAC,MAAQ3B,EAAI6D,SAAS,MAAQ7D,EAAI8D,QAAQ,CAAC5D,EAAG,eAAe,CAACyB,MAAM,CAAC,KAAO,YAAY,CAACzB,EAAG,WAAW,CAACyB,MAAM,CAAC,UAAY,GAAG,YAAc3B,EAAI+D,gBAAgB,KAAO,WAAW,UAAY,IAAI,OAAS,OAAO,kBAAkB,IAAIC,MAAM,CAACC,MAAOjE,EAAI6D,SAAgB,QAAEK,SAAS,SAAUC,GAAMnE,EAAIoE,KAAKpE,EAAI6D,SAAU,UAAWM,IAAME,WAAW,uBAAuB,IAAI,IAAI,GAAGnE,EAAG,MAAM,CAACE,YAAY,WAAWoC,GAAG,CAAC,MAAQxC,EAAIsE,gBAAgB,CAACtE,EAAIuB,GAAG,WAE30B,EAAkB,G,YC2BP,GACbf,KAAM,cACNC,MAAO,CACLwB,UAAW,CACTtB,KAAM4D,QAERC,WAAY,CACV7D,KAAM4D,QAERE,YAAa,CACX9D,KAAM4D,QAERG,OAAQ,CACN/D,KAAM4D,QAERR,gBAAiB,CACfpD,KAAM4D,OACNI,QAAS,UAGb,OACE,MAAMC,EAAmB,CAACC,EAAMZ,EAAOC,KACxB,MAATD,EACFC,EAAS,IAAIY,MAAMD,EAAKE,UAExBb,KAGJ,MAAO,CACL7C,YAAa,CACXO,QACE,oEAEJiC,SAAU,CACR1B,QAAS,IAEX2B,MAAO,CACL3B,QAAS,CACP,CACE6C,UAAU,EACVD,QAAS,UACTE,UAAWL,GAEb,CAAEM,IAAK,EAAGH,QAAS,eAK3BI,QAAS,CACP,gBACOlF,KAAK+B,KAAKoD,MAOfnF,KAAKoF,MAAMC,YAAYC,SAASC,MAAOC,IACrC,IAAKA,EAAO,OACZ,IAAI1G,EAAO,GACXA,EAAKkD,UAAYhC,KAAKgC,UACtBlD,EAAKyF,WAAavE,KAAKuE,WACvBzF,EAAK0F,YAAcxE,KAAKwE,YACxB1F,EAAKoD,QAAUlC,KAAK4D,SAAS1B,cACvB,eAAYpD,GAAM2G,KAAM5E,IACX,MAAbA,EAAI6E,MACN1F,KAAKoF,MAAMC,YAAYM,cACvB3F,KAAK4F,MAAM,oBAAqB/E,EAAIgF,MAEpC7F,KAAK8F,SAASC,MAAMlF,EAAIiE,aAlB5B9E,KAAKgG,QAAQC,KAAK,CAChB1F,KAAM,QACN2F,MAAO,CAAEC,SAAUnG,KAAKgG,QAAQI,aAAaC,cAsBrDzF,SAAU,IACL,eAAS,CACVmB,KAAM,WACJ,OAAO/B,KAAKsG,OAAOC,MAAMxE,UC3G+K,I,wBCQ5MhB,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAkB,IAAIhB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAGF,EAAI0D,SAAuB,MAAZ1D,EAAIjB,MAAmC,GAAnBiB,EAAIjB,KAAK0H,OAAmCzG,EAAIwB,KAA1BtB,EAAG,MAAM,CAACF,EAAI0G,GAAG,KAAe1G,EAAW,QAAEE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,cAAc,CAACyB,MAAM,CAAC,IAAM,EAAE,SAAW,OAAO,GAAG3B,EAAIwB,KAAKxB,EAAI2G,GAAI3G,EAAQ,MAAE,SAAS4G,EAAKC,GAAO,OAAO3G,EAAG,MAAM,CAAC4G,IAAID,GAAO,CAAC3G,EAAG,cAAc,CAAC+C,IAAI,OAAO8D,UAAS,EAAKpF,MAAM,CAAC,UAAY3B,EAAIiC,UAAU,YAAc2E,EAAK,cAAgB5G,EAAIyD,cAAc,cAAgBzD,EAAIgH,gBAAgBtC,QAAQlC,GAAG,CAAC,eAAiBxC,EAAIiH,0BAA0B,MAAK/G,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,gBAAgB,CAACe,YAAY,CAAC,aAAa,QAAQU,MAAM,CAAC,uBAAsB,EAAK,WAAa,GAAG,MAAQ3B,EAAImD,MAAM,eAAenD,EAAIwD,UAAU0D,QAAQ,OAAS,oBAAoB,YAAYlH,EAAIwD,UAAU2D,UAAU3E,GAAG,CAAC,qBAAqB,SAASO,GAAQ,OAAO/C,EAAIoE,KAAKpE,EAAIwD,UAAW,UAAWT,IAAS,sBAAsB,SAASA,GAAQ,OAAO/C,EAAIoE,KAAKpE,EAAIwD,UAAW,UAAWT,IAAS,iBAAiB/C,EAAIoH,uBAAuB,IAAI,IAExiC,EAAkB,CAAC,WAAY,IAAIpH,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwBF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACJ,EAAIuB,GAAG,cCFxL,EAAS,WAAkB,IAAIvB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,WAAW,CAACE,YAAY,aAAauB,MAAM,CAAC,IAAM3B,EAAIqH,YAAYzF,YAAY,GAAG1B,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACJ,EAAIuB,GAAGvB,EAAIyB,GAAGzB,EAAIqH,YAAYxF,aAAc7B,EAAIqH,YAAY9H,KAAOS,EAAIyD,cAAevD,EAAG,OAAO,CAACE,YAAY,cAAc,CAACJ,EAAIuB,GAAG,QAAQvB,EAAIwB,OAAOtB,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACA,EAAG,OAAO,CAACgC,SAAS,CAAC,UAAYlC,EAAIyB,GAAGzB,EAAIqH,YAAYlF,gBAAgBjC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACF,EAAIuB,GAAGvB,EAAIyB,GAAGzB,EAAIqH,YAAYvF,WAAa9B,EAAIsH,WAAWtH,EAAIqH,YAAYvF,YAAc,SAAS5B,EAAG,MAAM,CAAC0C,MAAM,CAChxB,qBAC0B,GAA1B5C,EAAIqH,YAAYE,OAAc,SAAW,IACzC/E,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO/C,EAAIwH,OAAOxH,EAAIqH,gBAAgB,CAACrH,EAAIuB,GAAG,IAAIvB,EAAIyB,GAAGzB,EAAIqH,YAAY3E,UAAY,EAAI1C,EAAIqH,YAAY3E,UAAY,MAAM,OAAOxC,EAAG,MAAM,CAACE,YAAY,wBAAwBoC,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO/C,EAAIyH,eAAezH,EAAIqH,YAAa,MAAM,CAACrH,EAAIuB,GAAG,YAAavB,EAAIqH,YAAoB,SAAEnH,EAAG,MAAM,CAACE,YAAY,oBAAoBJ,EAAI2G,GAAI3G,EAAIqH,YAAoB,UAAE,SAASK,EAAIb,GAAO,OAAO3G,EAAG,MAAM,CAAC4G,IAAID,EAAMzG,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,WAAW,CAACE,YAAY,aAAauB,MAAM,CAAC,IAAM+F,EAAI9F,YAAY,GAAG1B,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACJ,EAAIuB,GAAGvB,EAAIyB,GAAGiG,EAAI7F,aAAc6F,EAAInI,MAAQS,EAAIyD,cAAevD,EAAG,OAAO,CAACE,YAAY,cAAc,CAACJ,EAAIuB,GAAG,QAAQvB,EAAIwB,KAAKtB,EAAG,OAAO,CAACE,YAAY,cAAc,CAACJ,EAAIuB,GAAG,QAAQrB,EAAG,OAAO,CAACE,YAAY,UAAU,CAACJ,EAAIuB,GAAG,IAAIvB,EAAIyB,GAAGiG,EAAIC,kBAAkBzH,EAAG,OAAO,CAACF,EAAIuB,GAAG,OAAOrB,EAAG,OAAO,CAACE,YAAY,cAAc8B,SAAS,CAAC,UAAYlC,EAAIyB,GAAGiG,EAAIvF,cAAcjC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACF,EAAIuB,GAAGvB,EAAIyB,GAAGiG,EAAI5F,iBAAiB5B,EAAG,MAAM,CAAC0C,MAAM,CACjqC,qBACc,GAAd8E,EAAIH,OAAc,SAAW,IAC7B/E,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO/C,EAAIwH,OAAOE,MAAQ,CAAC1H,EAAIuB,GAAG,IAAIvB,EAAIyB,GAAGiG,EAAIhF,UAAY,EAAIgF,EAAIhF,UAAY,MAAM,OAAOxC,EAAG,MAAM,CAACE,YAAY,wBAAwBoC,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO/C,EAAIyH,eAAeC,EAAK,MAAM,CAAC1H,EAAIuB,GAAG,mBAAkB,GAAGvB,EAAIwB,KAAKtB,EAAG,MAAM,CAAC0H,WAAW,CAAC,CAACpH,KAAK,OAAOqH,QAAQ,SAAS5D,MAAOjE,EAAIqH,YAAqB,UAAEhD,WAAW,0BAA0BjE,YAAY,cAAc,CAACF,EAAG,cAAc,CAACyB,MAAM,CAAC,gBAAkB3B,EAAI+D,gBAAgB,UAAY/D,EAAIiC,UAAU,WAAajC,EAAIwE,WAAa,GAAG,YAAcxE,EAAIyE,YAAY,OAASzE,EAAI8H,eAAetF,GAAG,CAAC,kBAAoBxC,EAAIsD,sBAAsB,QAEzpB,EAAkB,GC2FP,GACb9C,KAAM,cACNuH,WAAY,CACVC,eAEFvH,MAAO,CACLwB,UAAW,CACTtB,KAAM4D,QAER8C,YAAa,CACX1G,KAAMsH,QAERxE,cAAe,CACb9C,KAAM4D,QAERuD,cAAe,CACbnH,KAAM4D,SAGV,OACE,MAAO,CACLC,WAAY,EACZC,YAAa,KACbV,gBAAiB,KACjBmE,KAAMjI,OAGVY,SAAU,IACL,eAAS,CACVmB,KAAM,WACJ,OAAO/B,KAAKsG,OAAOC,MAAMxE,SAI/BmD,QAAS,CACP,eAAegD,EAASxH,GACtB,IAAKV,KAAK+B,KAAKoD,MAKb,YAJAnF,KAAKgG,QAAQC,KAAK,CAChB1F,KAAM,QACN2F,MAAO,CAAEC,SAAUnG,KAAKgG,QAAQI,aAAaC,YAIjDrG,KAAKuE,WAAavE,KAAKoH,YAAYjI,GACnCa,KAAKwE,YAAc0D,EAAQ5I,IAC3BU,KAAK8D,gBAAkB,OAASoE,EAAQtG,SACxC,MAAMuG,OAAyCC,GAA9BpI,KAAKoH,YAAYiB,WAAiCrI,KAAKoH,YAAYiB,UACpFrI,KAAK4F,MAAM,kBAET5F,KAAKoH,YAAYiB,UADP,GAAR3H,IAC4ByH,EAIhCnI,KAAKiI,KAAKK,gBAEZ,kBAAkBzH,GAChBb,KAAKoH,YAAYmB,SAAW1H,EAC5Bb,KAAK8D,qBAAkBsE,GAEzB,OAAOtJ,GACAkB,KAAK+B,KAAKoD,MAOf,eAAY,CAACqD,IAAM1J,EAAKK,KAAKsG,KAAM5E,IAChB,MAAbA,EAAI6E,MACN5G,EAAK2D,UAAY5B,EAAIgF,IAAIpD,UACzB3D,EAAKwI,OAASzG,EAAIgF,IAAIyB,QAEtBtH,KAAK8F,SAASC,MAAMlF,EAAIiE,WAX1B9E,KAAKgG,QAAQC,KAAK,CAChB1F,KAAM,QACN2F,MAAO,CAAEC,SAAUnG,KAAKgG,QAAQI,aAAaC,aAcnD,WAAWoC,GACT,IAAIC,EAAO,IAAIC,KAAKF,GAChBG,EAAOF,EAAKG,cAIZC,EACFJ,EAAKK,WAAa,EAAI,GAClB,KAAOL,EAAKK,WAAa,GACzBL,EAAKK,WAAa,EACpBC,EAAMN,EAAKO,UAAY,GAAK,IAAMP,EAAKO,UAAYP,EAAKO,UACxDC,EACFR,EAAKS,WAAa,GAAK,IAAMT,EAAKS,WAAaT,EAAKS,WAClDC,EACFV,EAAKW,aAAe,GAAK,IAAMX,EAAKW,aAAeX,EAAKW,aACtDC,EACFZ,EAAKa,aAAe,GAAK,IAAMb,EAAKa,aAAeb,EAAKa,aAE1D,OACEX,EACA,IACAE,EACA,IACAE,EACA,IACAE,EACA,IACAE,EACA,IACAE,GAGJ,SACEtJ,KAAKiI,KAAKK,kBCjNgM,ICQ5M,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCkBA,GACb/H,KAAM,kBACNuH,WAAY,CACV0B,eAEFhJ,MAAO,CACL1B,KAAM,CACJ4B,KAAM+I,OAERvG,MAAO,CACLxC,KAAMC,QAER4C,UAAW,CACT7C,KAAMsH,QAERvE,QAAS,CACP/C,KAAMgJ,SAER3C,gBAAiB,CACfrG,KAAMsH,QAERxE,cAAc,CACV9C,KAAM4D,QAEVtC,UAAU,CACNtB,KAAM4D,SAGZ,OACE,MAAO,IAET,YACAY,QAAS,CACP,mBAAmByE,GACjB3J,KAAKuD,UAAU0D,QAAU0C,EACzB3J,KAAK4F,MAAM,aAEb,wBACE5F,KAAKlB,KAAK8K,QAAQ,CAACC,EAASjD,KAE1B5G,KAAKoF,MAAMuB,KAAKC,GAAOkD,SACvBD,EAAQxB,WAAY,OC9EwL,ICQhN,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QC8BA,GACb9H,KAAM,cACNuH,WAAY,CACVC,cACAgC,mBAEFvJ,MAAO,CACLwB,UAAW,CACTtB,KAAM4D,QAERd,cAAe,CACb9C,KAAM4D,SAGV,OACE,MAAO,CACLnB,UAAW,EACXG,YAAa,GACbJ,MAAO,EACPK,UAAW,CACT0D,QAAS,EACTC,SAAU,GACV/D,UAAW,GAEbM,SAAS,IAGbyB,QAAS,CACP,YAAYxE,GACVV,KAAKmD,UAAYzC,EACjBV,KAAKuD,UAAUJ,UAAYzC,EAC3BV,KAAK0D,eAEP,kBAAkBsG,GAChBhK,KAAKsD,YAAY2G,QAAQD,GACzBhK,KAAKkK,OAASvJ,OAAOX,KAAKkD,OAAS,EACnClD,KAAK4F,MAAM,qBAAsB5F,KAAKkD,QAExC,oBACElD,KAAKyD,SAAU,QAET,eAAgBzD,KAAKgC,UAAWhC,KAAKuD,WAAWkC,KAAM5E,IACzC,MAAbA,EAAI6E,MACN1F,KAAKsD,YAA8B,MAAhBzC,EAAIgF,IAAIsE,KAAe,GAAKtJ,EAAIgF,IAAIsE,KACvDnK,KAAKkD,MAAQrC,EAAIgF,IAAI3C,OAErBlD,KAAK8F,SAASC,MAAMlF,EAAIiE,WAI5B9E,KAAKyD,SAAU,IAGnB7C,SAAU,IACL,eAAS,CACVmB,KAAM,WACJ,OAAO/B,KAAKsG,OAAOC,MAAMxE,SAI/B,UACE/B,KAAK0D,gBC9GuM,ICQ5M,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,oBCwIA,GACbnD,KAAM,gBACNuH,WAAY,CACVsC,WAAA,KACA9G,eAEF,OACE,MAAO,CACLnB,UAAW,GASXf,YAAa,GAiBbwB,SAAS,EACTzD,GAAI,KACJ0D,aAAc,EACdwH,eAAgB,KAChBpH,eAAgB,KAIpBqH,MAAO,CACL,gBAAiB,CACf,QAAQC,GAENvK,KAAKb,GAAKoL,EAAIpL,GACda,KAAKwK,UAAUD,EAAIpL,KAErBsL,WAAW,IAGfvF,QAAS,CACP,gBACMlF,KAAK+B,KAAK5C,GACRa,KAAK4C,QACP5C,KAAK8F,SAASC,MAAM,WAEpB,eAAY/F,KAAKb,GAAIa,KAAK+B,KAAK5C,GAAIa,KAAKoB,YAAY9B,KAAKmG,KACtD5E,IACkB,MAAbA,EAAI6E,MACN1F,KAAKoB,YAAYqB,UACf9B,OAAOX,KAAKoB,YAAYqB,WAAa,EACvCzC,KAAK4C,SAAU,EACf5C,KAAK8F,SAAS4E,QAAQ,SAEtB1K,KAAK8F,SAASC,MAAMlF,EAAIiE,WAMhC9E,KAAKgG,QAAQC,KAAK,CAChB1F,KAAM,QACN2F,MAAO,CAAEC,SAAUnG,KAAKgG,QAAQI,aAAaC,aAInD,YAAYlH,GACVwL,SAASC,cAAc,IAAMzL,GAAI0L,kBAEnC,eACE7K,KAAK8K,UAAU,KACb,MAAMC,EAAgBJ,SACnBC,cAAc,WACdI,iBAAiB,OACdC,EAAY,GAClBF,EAAcnB,QAAQ,CAACjD,EAAMC,KAC3B,MAAMsE,EAAMvE,EAAKwE,aAAa,OAC9BF,EAAUhF,KAAKiF,GACfvE,EAAKyE,iBAAiB,QAAS,KAC7BpL,KAAKoF,MAAMiF,eAAegB,KAAKzE,OAGnC5G,KAAKiD,eAAiBgI,KAG1B,mBAAmBpI,GACjB7C,KAAK6C,aAAeA,GAEtB,gBAAgB1D,SACR,eAAiBA,GAAIsG,KAAM5E,IACd,MAAbA,EAAI6E,MACN1F,KAAKoB,YAAyB,MAAXP,EAAIgF,IAAc,GAAKhF,EAAIgF,IAC9C7F,KAAKsL,gBAELtL,KAAK8F,SAASC,MAAMlF,EAAIiE,WAGH,OAArB9E,KAAKoB,kBAA6CgH,IAArBpI,KAAKoB,cAET,OAAzBpB,KAAKoB,YAAYmK,UACQnD,IAAzBpI,KAAKoB,YAAYmK,KAEjB,eAAoBvL,KAAKoB,YAAYmK,KAAK9F,KAAM5E,IAC7B,MAAbA,EAAI6E,KACN1F,KAAKmC,UAAuB,MAAXtB,EAAIgF,IAAc,GAAKhF,EAAIgF,IAE5C7F,KAAK8F,SAASC,MAAMlF,EAAIiE,WAI1B9E,KAAK+B,KAAK5C,IACZ,eAAYa,KAAKoB,YAAYjC,GAAIa,KAAK+B,KAAK5C,IAAIsG,KAAM5E,IAClC,MAAbA,EAAI6E,OACN1F,KAAK4C,QAAqB,MAAX/B,EAAIgF,KAAsBhF,EAAIgF,UAMzDjF,SAAU,IACL,eAAS,CACVmB,KAAM,WACJ,OAAO/B,KAAKsG,OAAOC,MAAMxE,UCjS2K,ICQxM,G,UAAY,eACd,EACAjC,EACAQ,GACA,EACA,KACA,KACA,OAIa,e,yFCnBf,kUAEO,SAASkL,EAAerM,GAC3B,OAAO,eAAQ,CACXJ,IAAK,iBAAmBI,EACxBH,OAAQ,QAIT,SAASyM,EAAU3M,GACtB,OAAO,eAAQ,CACXC,IAAK,gBACLC,OAAQ,MACRC,OAAQH,IAIT,SAAS4M,EAAwBvM,GACpC,OAAO,eAAQ,CACXJ,IAAK,yBAA2BI,EAChCH,OAAQ,QAIT,SAAS2M,IACZ,OAAO,eAAQ,CACX5M,IAAK,qBACLC,OAAQ,QAIT,SAAS4M,EAAoBzM,GAChC,OAAO,eAAQ,CACXJ,IAAK,2BAA6BI,EAClCH,OAAQ,QAIT,SAAS6M,EAAiB/M,GAC7B,OAAO,eAAQ,CACXC,IAAK,kBACLC,OAAQ,MACRC,OAAQH,IAIT,SAASY,EAAYZ,GACxB,OAAO,eAAQ,CACXC,IAAK,iBACLC,OAAQ,OACRF,SAID,SAASgN,EAAU3M,GACtB,OAAO,eAAQ,CACXJ,IAAK,iBAAmBI,EACxBH,OAAQ,QAIT,SAAS+M,EAAQjN,GACpB,OAAO,eAAQ,CACXC,IAAK,gBACLC,OAAQ,MACRC,OAAQH","file":"js/chunk-8abfd95a.8e139ede.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentItem.vue?vue&type=style&index=0&id=7b7ca545&prod&lang=less&\"","import request from \"@/utils/request\";\r\n\r\nexport function getArticleList(data) {\r\n    return request({\r\n        url: '/forum/articleList',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}\r\n\r\nexport function getArticleDetail(id) {\r\n    return request({\r\n        url: '/forum/detail/' + id,\r\n        method: 'get',\r\n    })\r\n}\r\n\r\nexport function getUserLike(eid, uid) {\r\n    return request({\r\n        url: '/forum/userLike',\r\n        method: 'get',\r\n        params: { eid, uid },\r\n    })\r\n}\r\n\r\nexport function likeArticle(aid, uid, authorId) {\r\n    return request({\r\n        url: '/forum/likeArticle',\r\n        method: 'get',\r\n        params: { aid, uid, authorId }\r\n    })\r\n}\r\n\r\nexport function postComment(data) {\r\n    return request({\r\n        url: '/forum/comment',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport function loadCommentList(aid, data) {\r\n    return request({\r\n        url: '/forum/comments/' + aid,\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}\r\n\r\nexport function likeComment(data) {\r\n    return request({\r\n        url: '/forum/likeComment',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}\r\n\r\nexport function postArticle(data) {\r\n    return request({\r\n        url: '/forum/article',\r\n        method: 'post',\r\n        data\r\n    })\r\n}","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentItemList.vue?vue&type=style&index=0&id=2bf1aff8&prod&lang=less&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleDetail.vue?vue&type=style&index=0&id=d391b0e2&prod&lang=less&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentPost.vue?vue&type=style&index=0&id=0cfea56e&prod&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"score\",style:({ 'background-position-y': `-${_vm.posY}px` })})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"score\" :style=\"{ 'background-position-y': `-${posY}px` }\"></div>\r\n</template>\r\n\r\n<script>\r\n  import {reactive,computed} from 'vue'\r\n  /**\r\n   * \r\n   */\r\n  export default {\r\n    name: 'rankstar',\r\n    props: {\r\n      score: { // 接收父组件传递的数据\r\n        type: Number\r\n      }\r\n    },\r\n    computed:{\r\n      posY: function() {\r\n        let res = 0\r\n        let s = this.score\r\n        if (s > 9) {\r\n          res = 0\r\n        } else if (s > 8) {\r\n          res = 11\r\n        } else if (s > 7) {\r\n          res = 22\r\n        } else if (s > 6) {\r\n          res = 33\r\n        } else if (s > 5) {\r\n          res = 44\r\n        } else if (s > 4) {\r\n          res = 55\r\n        } else if (s > 3) {\r\n          res = 66\r\n        } else if (s > 2) {\r\n          res = 77\r\n        } else if (s > 1) {\r\n          res = 88\r\n        } else {\r\n          res = 99\r\n        }\r\n\r\n        return res\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .score {\r\n    width: 55px;\r\n    height: 11px;\r\n    background-image: url('./imgs/ic_rating_s@2x.png');\r\n    background-size: cover;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rankstar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rankstar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rankstar.vue?vue&type=template&id=009d837d&scoped=true&\"\nimport script from \"./rankstar.vue?vue&type=script&lang=js&\"\nexport * from \"./rankstar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rankstar.vue?vue&type=style&index=0&id=009d837d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"009d837d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rankstar.vue?vue&type=style&index=0&id=009d837d&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentList.vue?vue&type=style&index=0&id=08d2c5f7&prod&lang=less&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.articleInfo)?_c('div',{staticClass:\"container-body\",staticStyle:{\"width\":\"60%\"}},[_c('div',{staticClass:\"detail-container\",style:({ width: this.global.bodyWidth - 300 + 'px' })},[_c('div',{staticClass:\"article-detail\"},[_c('div',{staticClass:\"title\"},[(_vm.articleInfo.status == 0)?_c('span',{staticClass:\"tag tag-no-audit\"},[_vm._v(\"待审核\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.articleInfo.title)+\" \")]),_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"avatar\"},[_c('el-image',{staticClass:\"avatar-img\",attrs:{\"src\":_vm.articleInfo.userImg}})],1),_c('div',{staticClass:\"user-info-detail\"},[_c('router-link',{staticClass:\"nick-name a-link\",attrs:{\"to\":`/user/${_vm.articleInfo.uid}`}},[_vm._v(_vm._s(_vm.articleInfo.username))]),_c('div',{staticClass:\"time-info\"},[_c('span',[_vm._v(_vm._s(_vm.articleInfo.createTime))]),_c('span',{staticClass:\"iconfont icon-eye-solid\"},[_vm._v(\" \"+_vm._s(_vm.articleInfo.readCount == 0 ? \"阅读\" : _vm.articleInfo.readCount)+\" \")]),(_vm.articleInfo.uid == _vm.user.uid)?_c('router-link',{staticClass:\"a-link btn-edit\",attrs:{\"to\":`/editPost/${_vm.articleInfo.articleId}`}},[_c('span',{staticClass:\"iconfont icon-edit\"},[_vm._v(\"编辑\")])]):_vm._e()],1)],1)]),_c('div',{staticClass:\"detail\",attrs:{\"id\":\"detail\"},domProps:{\"innerHTML\":_vm._s(_vm.articleInfo.content)}})]),(_vm.articleInfo.mid)?_c('div',{staticClass:\"attachment-panel\",attrs:{\"id\":\"view-attachment\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\"相关电影\")]),_c('div',{staticClass:\"item-content\"},[_c('img',{staticClass:\"item-img\",attrs:{\"src\":_vm.movieData.posterURL}}),_c('div',{staticClass:\"left-content\"},[_c('router-link',{staticClass:\"title\",attrs:{\"to\":'/movie/' + _vm.movieData.id}},[_c('div',[_vm._v(_vm._s(_vm.movieData.name))])]),_c('div',{staticClass:\"rank-content\"},[_c('rankstar',{staticClass:\"rank-star\",attrs:{\"score\":_vm.movieData.score == null ? 0 : _vm.movieData.score * 2}}),_c('div',{staticClass:\"score-text\"},[_vm._v(\" \"+_vm._s(_vm.movieData.score == null ? 0 : _vm.movieData.score.toFixed(1))+\" \")])],1),_c('div',{staticClass:\"place\",staticStyle:{\"margin-top\":\"5px\"}},[_vm._v(\" \"+_vm._s(_vm.movieData.descri)+\" \")])],1)])]):_vm._e(),(_vm.articleInfo.status == 1)?_c('div',{staticClass:\"comment-panel\",attrs:{\"id\":\"view-comment\"}},[(_vm.articleInfo.id)?_c('commentList',{attrs:{\"articleId\":_vm.articleInfo.id,\"articleUserId\":_vm.articleInfo.uid},on:{\"updateCommentCount\":_vm.updateCommentCount}}):_vm._e()],1):_vm._e()])]):_vm._e(),_c('div',{staticClass:\"quick-panel\",staticStyle:{\"left\":\"10%\"}},[_c('el-badge',{attrs:{\"value\":_vm.articleInfo.likeCount,\"type\":\"info\",\"hidden\":!_vm.articleInfo.likeCount > 0}},[_c('div',{staticClass:\"quick-item\",on:{\"click\":_vm.doLikeHandler}},[_c('span',{class:['iconfont icon-good', _vm.hasLike ? 'have-like' : '']})])]),_c('el-badge',{attrs:{\"value\":_vm.articleInfo.commentCount,\"type\":\"info\",\"hidden\":!_vm.articleInfo.commentCount > 0}},[_c('div',{staticClass:\"quick-item\",on:{\"click\":function($event){return _vm.goToPostion('view-comment')}}},[_c('span',{staticClass:\"iconfont icon-comment\"})])])],1),_c('imageViewer',{ref:\"imageViewerRef\",attrs:{\"imageList\":_vm.previewImgList}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-body\"},[_c('div',{staticClass:\"comment-title\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" 评论\"),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.count))])]),_c('div',{staticClass:\"tab\"},[_c('span',{class:['tab-item', _vm.orderType == 0 ? 'active' : ''],on:{\"click\":function($event){return _vm.orderChange(0)}}},[_vm._v(\"热榜\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('span',{class:['tab-item', _vm.orderType == 1 ? 'active' : ''],on:{\"click\":function($event){return _vm.orderChange(1)}}},[_vm._v(\"最新\")])],1)]),_c('div',{staticClass:\"comment-form-panel\"},[_c('commentPost',{attrs:{\"articleId\":_vm.articleId,\"pCommentId\":'0',\"userId\":_vm.user.id},on:{\"postCommentFinish\":_vm.postCommentFinish}})],1),_c('div',{staticClass:\"comment-list\"},[_c('commentItemList',{attrs:{\"data\":_vm.commentList,\"queryInfo\":_vm.queryInfo,\"count\":_vm.count,\"articleUserId\":_vm.articleUserId,\"articleId\":_vm.articleId,\"loading\":_vm.loading,\"currentUserInfo\":_vm.user},on:{\"loadData\":_vm.loadComment}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"post-comment-panel\"},[_c('div',{staticClass:\"avatar\"},[(_vm.user.id)?_c('el-image',{staticClass:\"avatar-img\",attrs:{\"src\":_vm.user.avatar}}):_vm._e(),(!_vm.user.id)?_c('div',{staticClass:\"no-login\"},[_vm._v(\"未登录\")]):_vm._e()],1),_c('div',{staticClass:\"comment-form\"},[_c('el-form',{ref:\"formDataRef\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"content\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":_vm.placeholderInfo,\"type\":\"textarea\",\"maxlength\":800,\"resize\":\"none\",\"show-word-limit\":\"\"},model:{value:(_vm.formData.content),callback:function ($$v) {_vm.$set(_vm.formData, \"content\", $$v)},expression:\"formData.content\"}})],1)],1)],1),_c('div',{staticClass:\"send-btn\",on:{\"click\":_vm.postCommentDo}},[_vm._v(\"发表\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"post-comment-panel\">\r\n    <div class=\"avatar\">\r\n      <el-image v-if=\"user.id\" class=\"avatar-img\" :src=\"user.avatar\"></el-image>\r\n      <div v-if=\"!user.id\" class=\"no-login\">未登录</div>\r\n    </div>\r\n    <div class=\"comment-form\">\r\n      <el-form :model=\"formData\" :rules=\"rules\" ref=\"formDataRef\">\r\n        <!--textarea输入-->\r\n        <el-form-item prop=\"content\">\r\n          <el-input\r\n            clearable\r\n            :placeholder=\"placeholderInfo\"\r\n            type=\"textarea\"\r\n            :maxlength=\"800\"\r\n            resize=\"none\"\r\n            show-word-limit\r\n            v-model=\"formData.content\"\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"send-btn\" @click=\"postCommentDo\">发表</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport { postComment } from \"@/api/forum\";\r\nexport default {\r\n  name: \"commentPost\",\r\n  props: {\r\n    articleId: {\r\n      type: String,\r\n    },\r\n    pCommentId: {\r\n      type: String,\r\n    },\r\n    replyUserId: {\r\n      type: String,\r\n    },\r\n    userId: {\r\n      type: String,\r\n    },\r\n    placeholderInfo: {\r\n      type: String,\r\n      default: \"请文明发言\",\r\n    },\r\n  },\r\n  data() {\r\n    const checkPostComment = (rule, value, callback) => {\r\n      if (value == null) {\r\n        callback(new Error(rule.message));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      articleInfo: {\r\n        userImg:\r\n          \"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\",\r\n      },\r\n      formData: {\r\n        content: \"\",\r\n      },\r\n      rules: {\r\n        content: [\r\n          {\r\n            required: true,\r\n            message: \"请输入评论内容\",\r\n            validator: checkPostComment,\r\n          },\r\n          { min: 5, message: \"评论至少5个字\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    postCommentDo() {\r\n      if (!this.user.token) {\r\n        this.$router.push({\r\n          name: \"login\",\r\n          query: { redirect: this.$router.currentRoute.fullPath },\r\n        });\r\n        return;\r\n      }\r\n      this.$refs.formDataRef.validate(async (valid) => {\r\n        if (!valid) return;\r\n        let data = {};\r\n        data.articleId = this.articleId;\r\n        data.pCommentId = this.pCommentId;\r\n        data.replyUserId = this.replyUserId;\r\n        data.content = this.formData.content;\r\n        await postComment(data).then((res) => {\r\n          if (res.code === 200) {\r\n            this.$refs.formDataRef.resetFields();\r\n            this.$emit(\"postCommentFinish\", res.obj);\r\n          } else {\r\n            this.$message.error(res.message);\r\n          }\r\n        });\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      user: function () {\r\n        return this.$store.state.user;\r\n      },\r\n    }),\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.post-comment-panel {\r\n  display: flex;\r\n  align-items: top;\r\n  .avatar {\r\n    display: flex;\r\n    cursor: pointer;\r\n    background: #f0f0f0;\r\n    align-items: center;\r\n    overflow: hidden;\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 25px;\r\n    .avatar-img {\r\n      width: 50px;\r\n      height: 50px;\r\n      border-radius: 25px;\r\n    }\r\n    .no-login {\r\n      width: 100%;\r\n      text-align: center;\r\n      font-size: 13px;\r\n    }\r\n  }\r\n  .comment-form {\r\n    flex: 1;\r\n    margin: 0px 10px;\r\n    .el-textarea__inner {\r\n      height: 60px;\r\n    }\r\n  }\r\n  .send-btn {\r\n    cursor: pointer;\r\n    width: 60px;\r\n    height: 60px;\r\n    background: #007fff;\r\n    color: #fff;\r\n    text-align: center;\r\n    line-height: 60px;\r\n    border-radius: 5px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentPost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentPost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commentPost.vue?vue&type=template&id=0cfea56e&\"\nimport script from \"./commentPost.vue?vue&type=script&lang=js&\"\nexport * from \"./commentPost.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commentPost.vue?vue&type=style&index=0&id=0cfea56e&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.loading && _vm.data != null && _vm.data.length == 0)?_c('div',[_vm._m(0)]):_vm._e(),(_vm.loading)?_c('div',{staticClass:\"skeleton\"},[_c('el-skeleton',{attrs:{\"row\":2,\"animated\":\"\"}})],1):_vm._e(),_vm._l((_vm.data),function(item,index){return _c('div',{key:index},[_c('commentItem',{ref:\"item\",refInFor:true,attrs:{\"articleId\":_vm.articleId,\"commentData\":item,\"articleUserId\":_vm.articleUserId,\"currentUserId\":_vm.currentUserInfo.userId},on:{\"hiddenAllReply\":_vm.hiddenAllReplyHandler}})],1)}),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{staticStyle:{\"text-align\":\"left\"},attrs:{\"hide-on-single-page\":true,\"background\":\"\",\"total\":_vm.count,\"current-page\":_vm.queryInfo.curPage,\"layout\":\"prev, pager, next\",\"page-size\":_vm.queryInfo.pageSize},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.queryInfo, \"curPage\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.queryInfo, \"curPage\", $event)},\"current-change\":_vm.handlePageNoChange}})],1)],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"no-data\"},[_c('div',{staticClass:\"iconfont icon-empty\"}),_c('div',{staticClass:\"msg\"},[_vm._v(\"暂无评论\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-item\"},[_c('div',{staticClass:\"avatar\"},[_c('el-image',{staticClass:\"avatar-img\",attrs:{\"src\":_vm.commentData.userImg}})],1),_c('div',{staticClass:\"comment-info\"},[_c('div',{staticClass:\"nick-name\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.commentData.username))]),(_vm.commentData.uid == _vm.articleUserId)?_c('span',{staticClass:\"tag-author\"},[_vm._v(\"作者\")]):_vm._e()]),_c('div',{staticClass:\"comment-content\"},[_c('div',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.commentData.content)}})])]),_c('div',{staticClass:\"op-panel\"},[_c('div',{staticClass:\"time\"},[_c('span',[_vm._v(_vm._s(_vm.commentData.createTime ? _vm.dateFormat(_vm.commentData.createTime) : \"\"))])]),_c('div',{class:[\n          'iconfont icon-good',\n          _vm.commentData.isLike == 1 ? 'active' : '',\n        ],on:{\"click\":function($event){return _vm.doLike(_vm.commentData)}}},[_vm._v(\" \"+_vm._s(_vm.commentData.likeCount > 0 ? _vm.commentData.likeCount : \"点赞\")+\" \")]),_c('div',{staticClass:\"iconfont icon-comment\",on:{\"click\":function($event){return _vm.showReplyPanel(_vm.commentData, 0)}}},[_vm._v(\" 回复 \")])]),(_vm.commentData.children)?_c('div',{staticClass:\"comment-sub-list\"},_vm._l((_vm.commentData.children),function(sub,index){return _c('div',{key:index,staticClass:\"comment-sub-item\"},[_c('div',{staticClass:\"avatar\"},[_c('el-image',{staticClass:\"avatar-img\",attrs:{\"src\":sub.userImg}})],1),_c('div',{staticClass:\"comment-sub-info\"},[_c('div',{staticClass:\"nick-name\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(sub.username))]),(sub.uid === _vm.articleUserId)?_c('span',{staticClass:\"tag-author\"},[_vm._v(\"作者\")]):_vm._e(),_c('span',{staticClass:\"reply-name\"},[_vm._v(\"回复\")]),_c('span',{staticClass:\"a-link\"},[_vm._v(\"@\"+_vm._s(sub.replyUsername))]),_c('span',[_vm._v(\"：\")]),_c('span',{staticClass:\"sub-content\",domProps:{\"innerHTML\":_vm._s(sub.content)}})]),_c('div',{staticClass:\"op-panel\"},[_c('div',{staticClass:\"time\"},[_c('span',[_vm._v(_vm._s(sub.createTime))])]),_c('div',{class:[\n                'iconfont icon-good',\n                sub.isLike == 1 ? 'active' : '',\n              ],on:{\"click\":function($event){return _vm.doLike(sub)}}},[_vm._v(\" \"+_vm._s(sub.likeCount > 0 ? sub.likeCount : \"点赞\")+\" \")]),_c('div',{staticClass:\"iconfont icon-comment\",on:{\"click\":function($event){return _vm.showReplyPanel(sub, 1)}}},[_vm._v(\" 回复 \")])])])])}),0):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.commentData.showReply),expression:\"commentData.showReply\"}],staticClass:\"reply-info\"},[_c('commentPost',{attrs:{\"placeholderInfo\":_vm.placeholderInfo,\"articleId\":_vm.articleId,\"pCommentId\":_vm.pCommentId + '',\"replyUserId\":_vm.replyUserId,\"userId\":_vm.currentUserId},on:{\"postCommentFinish\":_vm.postCommentFinish}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-item\">\r\n    <div class=\"avatar\">\r\n      <el-image class=\"avatar-img\" :src=\"commentData.userImg\"></el-image>\r\n    </div>\r\n    <div class=\"comment-info\">\r\n      <div class=\"nick-name\">\r\n        <span class=\"name\">{{ commentData.username }}</span>\r\n        <span class=\"tag-author\" v-if=\"commentData.uid == articleUserId\"\r\n          >作者</span\r\n        >\r\n      </div>\r\n      <div class=\"comment-content\">\r\n        <div>\r\n          <span v-html=\"commentData.content\"></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"op-panel\">\r\n        <div class=\"time\">\r\n          <span>{{ commentData.createTime ? dateFormat(commentData.createTime) : \"\" }}</span>\r\n        </div>\r\n        <div\r\n          :class=\"[\r\n            'iconfont icon-good',\r\n            commentData.isLike == 1 ? 'active' : '',\r\n          ]\"\r\n          @click=\"doLike(commentData)\"\r\n        >\r\n          {{ commentData.likeCount > 0 ? commentData.likeCount : \"点赞\" }}\r\n        </div>\r\n        <div\r\n          class=\"iconfont icon-comment\"\r\n          @click=\"showReplyPanel(commentData, 0)\"\r\n        >\r\n          回复\r\n        </div>\r\n      </div>\r\n      <div class=\"comment-sub-list\" v-if=\"commentData.children\">\r\n        <div\r\n          class=\"comment-sub-item\"\r\n          v-for=\"(sub, index) in commentData.children\"\r\n          :key=\"index\"\r\n        >\r\n          <div class=\"avatar\">\r\n            <el-image class=\"avatar-img\" :src=\"sub.userImg\"></el-image>\r\n          </div>\r\n          <div class=\"comment-sub-info\">\r\n            <div class=\"nick-name\">\r\n              <span class=\"name\">{{ sub.username }}</span>\r\n              <span class=\"tag-author\" v-if=\"sub.uid === articleUserId\"\r\n                >作者</span\r\n              >\r\n              <span class=\"reply-name\">回复</span>\r\n              <span class=\"a-link\">@{{ sub.replyUsername }}</span>\r\n              <span>：</span>\r\n              <span class=\"sub-content\" v-html=\"sub.content\"></span>\r\n            </div>\r\n            <div class=\"op-panel\">\r\n              <div class=\"time\">\r\n                <span>{{ sub.createTime }}</span>\r\n              </div>\r\n              <div\r\n                :class=\"[\r\n                  'iconfont icon-good',\r\n                  sub.isLike == 1 ? 'active' : '',\r\n                ]\"\r\n                @click=\"doLike(sub)\"\r\n              >\r\n                {{ sub.likeCount > 0 ? sub.likeCount : \"点赞\" }}\r\n              </div>\r\n              <div\r\n                class=\"iconfont icon-comment\"\r\n                @click=\"showReplyPanel(sub, 1)\"\r\n              >\r\n                回复\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"reply-info\"  v-show=\"commentData.showReply\"> <!-- -->\r\n        <commentPost\r\n          :placeholderInfo=\"placeholderInfo\"\r\n          :articleId=\"articleId\"\r\n          :pCommentId=\"pCommentId + ''\"\r\n          :replyUserId=\"replyUserId\"\r\n          :userId=\"currentUserId\"\r\n          @postCommentFinish=\"postCommentFinish\"\r\n        ></commentPost>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { likeComment } from '@/api/forum';\r\nimport { mapState } from \"vuex\";\r\nimport commentPost from \"./commentPost.vue\";\r\n\r\nexport default {\r\n  name: \"commentItem\",\r\n  components: {\r\n    commentPost,\r\n  },\r\n  props: {\r\n    articleId: {\r\n      type: String,\r\n    },\r\n    commentData: {\r\n      type: Object,\r\n    },\r\n    articleUserId: {\r\n      type: String,\r\n    },\r\n    currentUserId: {\r\n      type: String,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      pCommentId: 0,\r\n      replyUserId: null,\r\n      placeholderInfo: null,\r\n      self: this,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      user: function () {\r\n        return this.$store.state.user;\r\n      },\r\n    }),\r\n  },\r\n  methods: {\r\n    showReplyPanel(curData, type) {\r\n      if (!this.user.token) {\r\n        this.$router.push({\r\n          name: \"login\",\r\n          query: { redirect: this.$router.currentRoute.fullPath },\r\n        });\r\n        return;\r\n      }\r\n      this.pCommentId = this.commentData.id;\r\n      this.replyUserId = curData.uid;\r\n      this.placeholderInfo = \"回复 @\" + curData.username;\r\n      const haveShow = this.commentData.showReply == undefined ? false : this.commentData.showReply;\r\n      this.$emit(\"hiddenAllReply\");\r\n      if (type == 0) {\r\n        this.commentData.showReply = !haveShow;\r\n      } else {\r\n        this.commentData.showReply = true;\r\n      }\r\n      this.self.$forceUpdate();\r\n    },\r\n    postCommentFinish(res){\r\n      this.commentData.children = res;\r\n      this.placeholderInfo = undefined;\r\n    },\r\n    doLike(data) {\r\n      if (!this.user.token) {\r\n        this.$router.push({\r\n          name: \"login\",\r\n          query: { redirect: this.$router.currentRoute.fullPath },\r\n        });\r\n        return;\r\n      }\r\n      likeComment({cid : data.id}).then((res) => {\r\n        if (res.code === 200) {\r\n          data.likeCount = res.obj.likeCount;\r\n          data.isLike = res.obj.isLike;\r\n        } else {\r\n          this.$message.error(res.message);\r\n        }\r\n      })\r\n    },\r\n    //时间格式化函数，此处仅针对yyyy-MM-dd hh:mm:ss 的格式进行格式化\r\n    dateFormat(time) {\r\n      var date = new Date(time);\r\n      var year = date.getFullYear();\r\n      /* 在日期格式中，月份是从0开始的，因此要加0\r\n       * 使用三元表达式在小于10的前面加0，以达到格式统一 如 09:11:05\r\n       * */\r\n      var month =\r\n        date.getMonth() + 1 < 10\r\n          ? \"0\" + (date.getMonth() + 1)\r\n          : date.getMonth() + 1;\r\n      var day = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\r\n      var hours =\r\n        date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours();\r\n      var minutes =\r\n        date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\r\n      var seconds =\r\n        date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds();\r\n      // 拼接\r\n      return (\r\n        year +\r\n        \"-\" +\r\n        month +\r\n        \"-\" +\r\n        day +\r\n        \" \" +\r\n        hours +\r\n        \":\" +\r\n        minutes +\r\n        \":\" +\r\n        seconds\r\n      );\r\n    },\r\n    update(){\r\n      this.self.$forceUpdate();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.comment-item {\r\n  display: flex;\r\n  padding-top: 15px;\r\n  .avatar {\r\n    display: flex;\r\n    cursor: pointer;\r\n    background: #f0f0f0;\r\n    align-items: center;\r\n    overflow: hidden;\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 25px;\r\n    .avatar-img {\r\n      width: 50px;\r\n      height: 50px;\r\n      border-radius: 25px;\r\n    }\r\n  }\r\n  .comment-info {\r\n    flex: 1;\r\n    margin-left: 10px;\r\n    border-bottom: 1px solid #ddd;\r\n    padding-bottom: 15px;\r\n    .nick-name {\r\n      .name {\r\n        font-size: 14px;\r\n        color: #61666d;\r\n        margin-right: 10px;\r\n        cursor: pointer;\r\n      }\r\n      .tag-author {\r\n        background: #ff6699;\r\n        color: #fff;\r\n        font-size: 12px;\r\n        border-radius: 2px;\r\n        padding: 0px 3px;\r\n      }\r\n    }\r\n    .comment-content {\r\n      margin-top: 5px;\r\n      font-size: 15px;\r\n      line-height: 22px;\r\n      .tag {\r\n        margin-right: 5px;\r\n        font-size: 12px;\r\n        border-radius: 3px;\r\n        padding: 0px 5px;\r\n      }\r\n    }\r\n    .op-panel {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-top: 5px;\r\n      font-size: 13px;\r\n      color: #61666d;\r\n      .time {\r\n        margin-right: 20px;\r\n      }\r\n      .iconfont {\r\n        margin-right: 15px;\r\n        font-size: 14px;\r\n        color: #9499a0;\r\n        cursor: pointer;\r\n      }\r\n      .iconfont::before {\r\n        margin-right: 3px;\r\n      }\r\n      .active {\r\n        color: #007fff;\r\n      }\r\n    }\r\n    .comment-sub-list {\r\n      margin-top: 10px;\r\n      .comment-sub-item {\r\n        display: flex;\r\n        margin: 8px 0px;\r\n        font-size: 14px;\r\n        .avatar {\r\n          display: flex;\r\n          cursor: pointer;\r\n          background: #f0f0f0;\r\n          align-items: center;\r\n          overflow: hidden;\r\n          width: 30px;\r\n          height: 30px;\r\n          border-radius: 15px;\r\n          .avatar-img {\r\n            width: 30px;\r\n            height: 30px;\r\n            border-radius: 15px;\r\n          }\r\n        }\r\n        .comment-sub-info {\r\n          margin-left: 5px;\r\n          .nick-name {\r\n            .reply-name {\r\n              margin: 0px 5px;\r\n            }\r\n            .sub-content {\r\n              font-size: 15px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .reply-info {\r\n      margin-top: 15px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commentItem.vue?vue&type=template&id=7b7ca545&\"\nimport script from \"./commentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./commentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commentItem.vue?vue&type=style&index=0&id=7b7ca545&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div v-if=\"!loading && data != null && data.length == 0\">\r\n      <div class=\"no-data\">\r\n        <div class=\"iconfont icon-empty\"></div>\r\n        <div class=\"msg\">暂无评论</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"skeleton\" v-if=\"loading\">\r\n      <el-skeleton :row=\"2\" animated></el-skeleton>\r\n    </div>\r\n    <div v-for=\"(item, index) in data\" :key=\"index\">\r\n      <commentItem ref=\"item\"\r\n        :articleId=\"articleId\"\r\n        :commentData=\"item\"\r\n        :articleUserId=\"articleUserId\"\r\n        :currentUserId=\"currentUserInfo.userId\"\r\n        @hiddenAllReply=\"hiddenAllReplyHandler\"\r\n      ></commentItem>\r\n    </div>\r\n    <div class=\"pagination\">\r\n      <el-pagination\r\n        :hide-on-single-page=\"true\"\r\n        background\r\n        :total=\"count\"\r\n        :current-page.sync=\"queryInfo.curPage\"\r\n        layout=\"prev, pager, next\"\r\n        @current-change=\"handlePageNoChange\"\r\n        style=\"text-align: left\"\r\n        :page-size=\"queryInfo.pageSize\"\r\n      ></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport commentItem from \"./commentItem.vue\";\r\nexport default {\r\n  name: \"commentItemList\",\r\n  components: {\r\n    commentItem,\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Array,\r\n    },\r\n    count: {\r\n      type: Number,\r\n    },\r\n    queryInfo: {\r\n      type: Object,\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n    },\r\n    currentUserInfo: {\r\n      type: Object,\r\n    },\r\n    articleUserId:{\r\n        type: String,\r\n    },\r\n    articleId:{\r\n        type: String,\r\n    }\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  created() {},\r\n  methods: {\r\n    handlePageNoChange(newPage) {\r\n      this.queryInfo.curPage = newPage;\r\n      this.$emit(\"loadData\");\r\n    },\r\n    hiddenAllReplyHandler(){\r\n      this.data.forEach((element, index) => {\r\n        //let child = ('item'+index);\r\n        this.$refs.item[index].update();\r\n        element.showReply = false;\r\n      })\r\n      //\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.pagination {\r\n  padding: 10px 0px 10px 10px;\r\n}\r\n.no-data {\r\n  text-align: center;\r\n  padding: 10px 0px;\r\n  .icon-empty {\r\n    font-size: 50px;\r\n    color: #bbb;\r\n  }\r\n  .msg {\r\n    margin-top: 10px;\r\n    color: #909399;\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentItemList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentItemList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commentItemList.vue?vue&type=template&id=2bf1aff8&\"\nimport script from \"./commentItemList.vue?vue&type=script&lang=js&\"\nexport * from \"./commentItemList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commentItemList.vue?vue&type=style&index=0&id=2bf1aff8&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"comment-body\">\r\n    <div class=\"comment-title\">\r\n      <div class=\"title\">\r\n        评论<span class=\"count\">{{ count }}</span>\r\n      </div>\r\n      <div class=\"tab\">\r\n        <span\r\n          @click=\"orderChange(0)\"\r\n          :class=\"['tab-item', orderType == 0 ? 'active' : '']\"\r\n          >热榜</span\r\n        >\r\n        <el-divider direction=\"vertical\" />\r\n        <span\r\n          @click=\"orderChange(1)\"\r\n          :class=\"['tab-item', orderType == 1 ? 'active' : '']\"\r\n          >最新</span\r\n        >\r\n      </div>\r\n    </div>\r\n    <div class=\"comment-form-panel\">\r\n      <commentPost\r\n        :articleId=\"articleId\"\r\n        :pCommentId=\"'0'\"\r\n        :userId=\"user.id\"\r\n        @postCommentFinish=\"postCommentFinish\"\r\n      ></commentPost>\r\n    </div>\r\n    <div class=\"comment-list\">\r\n      <commentItemList\r\n        :data=\"commentList\"\r\n        :queryInfo=\"queryInfo\"\r\n        :count=\"count\"\r\n        :articleUserId=\"articleUserId\"\r\n        :articleId=\"articleId\"\r\n        :loading=\"loading\"\r\n        :currentUserInfo=\"user\"\r\n        @loadData=\"loadComment\"\r\n      ></commentItemList>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport commentPost from \"./commentPost.vue\";\r\nimport commentItemList from \"./commentItemList.vue\";\r\nimport { loadCommentList } from \"@/api/forum\"\r\n\r\nexport default {\r\n  name: \"commentList\",\r\n  components: {\r\n    commentPost,\r\n    commentItemList,\r\n  },\r\n  props: {\r\n    articleId: {\r\n      type: String,\r\n    },\r\n    articleUserId: {\r\n      type: String,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      orderType: 0,\r\n      commentList: [],\r\n      count: 0,\r\n      queryInfo: {\r\n        curPage: 1,\r\n        pageSize: 15,\r\n        orderType: 0,\r\n      },\r\n      loading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    orderChange(type) {\r\n      this.orderType = type;\r\n      this.queryInfo.orderType = type;\r\n      this.loadComment()\r\n    },\r\n    postCommentFinish(resultData) {\r\n      this.commentList.unshift(resultData);\r\n      this.coount = Number(this.count) + 1;\r\n      this.$emit(\"updataCommentCount\", this.count);\r\n    },\r\n    async loadComment() {\r\n      this.loading = true;\r\n\r\n      await loadCommentList(this.articleId, this.queryInfo).then((res) => {\r\n        if (res.code === 200) {\r\n          this.commentList = res.obj.objs == null ? [] : res.obj.objs;\r\n          this.count = res.obj.count;\r\n        } else {\r\n          this.$message.error(res.message);\r\n        }\r\n      })\r\n\r\n      this.loading = false;\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      user: function () {\r\n        return this.$store.state.user;\r\n      },\r\n    }),\r\n  },\r\n  created() {\r\n    this.loadComment();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comment-body {\r\n  .comment-title {\r\n    display: flex;\r\n    align-items: center;\r\n    .title {\r\n      font-size: 20px;\r\n      .count {\r\n        font-size: 14px;\r\n        padding: 0px 10px;\r\n      }\r\n    }\r\n    .tab {\r\n      .tab-item {\r\n        cursor: pointer;\r\n      }\r\n      .active {\r\n        color: #007fff;\r\n      }\r\n    }\r\n  }\r\n  .comment-form-panel {\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commentList.vue?vue&type=template&id=08d2c5f7&scoped=true&\"\nimport script from \"./commentList.vue?vue&type=script&lang=js&\"\nexport * from \"./commentList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commentList.vue?vue&type=style&index=0&id=08d2c5f7&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08d2c5f7\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div class=\"container-body\" style=\"width: 60%\" v-if=\"articleInfo\">\r\n      <div\r\n        class=\"detail-container\"\r\n        :style=\"{ width: this.global.bodyWidth - 300 + 'px' }\"\r\n      >\r\n        <div class=\"article-detail\">\r\n          <div class=\"title\">\r\n            <span class=\"tag tag-no-audit\" v-if=\"articleInfo.status == 0\"\r\n              >待审核</span\r\n            >\r\n            {{ articleInfo.title }}\r\n          </div>\r\n          <!--用户信息-->\r\n          <div class=\"user-info\">\r\n            <div class=\"avatar\">\r\n              <el-image\r\n                class=\"avatar-img\"\r\n                :src=\"articleInfo.userImg\"\r\n              ></el-image>\r\n            </div>\r\n            <div class=\"user-info-detail\">\r\n              <router-link\r\n                class=\"nick-name a-link\"\r\n                :to=\"`/user/${articleInfo.uid}`\"\r\n                >{{ articleInfo.username }}</router-link\r\n              >\r\n              <div class=\"time-info\">\r\n                <span>{{ articleInfo.createTime }}</span>\r\n                <span class=\"iconfont icon-eye-solid\">\r\n                  {{\r\n                    articleInfo.readCount == 0 ? \"阅读\" : articleInfo.readCount\r\n                  }}\r\n                </span>\r\n                <router-link\r\n                  v-if=\"articleInfo.uid == user.uid\"\r\n                  :to=\"`/editPost/${articleInfo.articleId}`\"\r\n                  class=\"a-link btn-edit\"\r\n                >\r\n                  <span class=\"iconfont icon-edit\">编辑</span>\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!--文章详情-->\r\n          <div class=\"detail\" id=\"detail\" v-html=\"articleInfo.content\"></div>\r\n        </div>\r\n        <!--相关电影-->\r\n        <div\r\n          class=\"attachment-panel\"\r\n          id=\"view-attachment\"\r\n          v-if=\"articleInfo.mid\"\r\n        >\r\n          <!-- <div class=\"title\">附件</div>\r\n        <div class=\"attachment-info\">\r\n          <div class=\"iconfont icon-zip item\"></div>\r\n          <div class=\"file-name item\">xxx</div>\r\n          <div class=\"size item\">\r\n            xxx\r\n          </div>\r\n          <div class=\"item\">\r\n            需要<span class=\"integral\">xxx</span\r\n            >积分\r\n          </div>\r\n          <div class=\"download-count item\">\r\n            已下载xxx次\r\n          </div>\r\n          <div class=\"download-btn item\">\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              \r\n              >下载</el-button\r\n            >\r\n          </div>\r\n        </div> -->\r\n          <div class=\"title\">相关电影</div>\r\n          <div class=\"item-content\">\r\n            <img :src=\"movieData.posterURL\" class=\"item-img\" />\r\n            <div class=\"left-content\">\r\n              <router-link :to=\"'/movie/' + movieData.id\" class=\"title\"\r\n                ><div>{{ movieData.name }}</div>\r\n              </router-link>\r\n              <div class=\"rank-content\">\r\n                <rankstar\r\n                  :score=\"movieData.score == null ? 0 : movieData.score * 2\"\r\n                  class=\"rank-star\"\r\n                ></rankstar>\r\n                <div class=\"score-text\">\r\n                  {{ movieData.score == null ? 0 : movieData.score.toFixed(1) }}\r\n                </div>\r\n              </div>\r\n              <div class=\"place\" style=\"margin-top: 5px\">\r\n                {{ movieData.descri }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--评论-->\r\n        <div\r\n          class=\"comment-panel\"\r\n          id=\"view-comment\"\r\n          v-if=\"articleInfo.status == 1\"\r\n        >\r\n          <commentList\r\n            v-if=\"articleInfo.id\"\r\n            :articleId=\"articleInfo.id\"\r\n            :articleUserId=\"articleInfo.uid\"\r\n            @updateCommentCount=\"updateCommentCount\"\r\n          ></commentList>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--左侧快捷操作-->\r\n    <div class=\"quick-panel\" style=\"left: 10%\">\r\n      <!--点赞-->\r\n      <el-badge\r\n        :value=\"articleInfo.likeCount\"\r\n        type=\"info\"\r\n        :hidden=\"!articleInfo.likeCount > 0\"\r\n      >\r\n        <div class=\"quick-item\" @click=\"doLikeHandler\">\r\n          <span\r\n            :class=\"['iconfont icon-good', hasLike ? 'have-like' : '']\"\r\n          ></span>\r\n        </div>\r\n      </el-badge>\r\n      <!--评论-->\r\n      <el-badge\r\n        :value=\"articleInfo.commentCount\"\r\n        type=\"info\"\r\n        :hidden=\"!articleInfo.commentCount > 0\"\r\n      >\r\n        <div class=\"quick-item\" @click=\"goToPostion('view-comment')\">\r\n          <span class=\"iconfont icon-comment\"></span>\r\n        </div>\r\n      </el-badge>\r\n      <!--附件-->\r\n      <!-- <div class=\"quick-item\" @click=\"goToPostion('view-attachment')\">\r\n          <span class=\"iconfont icon-attachment\"></span>\r\n        </div> -->\r\n    </div>\r\n    <!--图片预览-->\r\n    <imageViewer ref=\"imageViewerRef\" :imageList=\"previewImgList\"></imageViewer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport rankstar from \"@/components/rankstar/rankstar.vue\";\r\nimport commentList from \"./components/commentList.vue\";\r\nimport { getArticleDetail, getUserLike, likeArticle } from \"@/api/forum\";\r\nimport { getArticleMovieInfo } from \"@/api/movie\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"articleDetail\",\r\n  components: {\r\n    rankstar,\r\n    commentList,\r\n  },\r\n  data() {\r\n    return {\r\n      movieData: {\r\n        // posterURL:\r\n        //   \"http://124.222.196.87:9000/movie/movie_photo/images/113938/poster.jpg\",\r\n        // id: 1,\r\n        // name: \"Nixon by Nixon: In His Own Words (2014)\",\r\n        // score: 4,\r\n        // descri:\r\n        //   \"From 1971 to 1973, Richard Nixon secretly recorded his private conversations in the White House. This film chronicles the content of those tapes, which include Nixon's conversations on the war in Vietnam, the Pentagon Papers leak, his Supreme Court appointments, and more--while also exposing shocking statements he made about women, people of color, Jews,and the media.\",\r\n      },\r\n      articleInfo: {\r\n        // status: 0,\r\n        // commentCount: 1111,\r\n        // likeCount: 1111,\r\n        // content:\r\n        //   \"12345687987468545641351568496849685\" +\r\n        //   '<img style=\"width:80px; height:80px; display:block\" class=\"avatar-img\" src=\"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\">',\r\n        // id: \"111\",\r\n        // uid: \"111\",\r\n        // readCount: 1111,\r\n        // createTime: \"2000-01-01 00:00:00\",\r\n        // username: \"abc\",\r\n        // title: \"标题\",\r\n        // status: 1,\r\n        // userImg:\r\n        //   \"http://124.222.196.87:9000/movie/movie_photo/images/1/poster.jpg\",\r\n      },\r\n      hasLike: false,\r\n      id: null,\r\n      commentCount: 0,\r\n      imageViewerRef: null,\r\n      previewImgList: [],\r\n      //quickPanelLeft: (window.innerWidth - this.global.bodyWidth) / 2 - 110,\r\n    };\r\n  },\r\n  watch: {\r\n    \"$route.params\": {\r\n      handler(val) {\r\n        // 根据路由参数获取用户信息并更新\r\n        this.id = val.id;\r\n        this.getDetail(val.id);\r\n      },\r\n      immediate: true, // 立即执行\r\n    },\r\n  },\r\n  methods: {\r\n    doLikeHandler() {\r\n      if (this.user.id) {\r\n        if (this.hasLike) {\r\n          this.$message.error(\"您已经点过赞了\");\r\n        } else {\r\n          likeArticle(this.id, this.user.id, this.articleInfo.uid).then(\r\n            (res) => {\r\n              if (res.code === 200) {\r\n                this.articleInfo.likeCount =\r\n                  Number(this.articleInfo.likeCount) + 1;\r\n                this.hasLike = true;\r\n                this.$message.success(\"点赞成功\");\r\n              } else {\r\n                this.$message.error(res.message);\r\n              }\r\n            }\r\n          );\r\n        }\r\n      } else {\r\n        this.$router.push({\r\n          name: \"login\",\r\n          query: { redirect: this.$router.currentRoute.fullPath },\r\n        });\r\n      }\r\n    },\r\n    goToPostion(id) {\r\n      document.querySelector(\"#\" + id).scrollIntoView();\r\n    },\r\n    imagePreview() {\r\n      this.$nextTick(() => {\r\n        const imageNodeList = document\r\n          .querySelector(\"#detail\")\r\n          .querySelectorAll(\"img\");\r\n        const imageList = [];\r\n        imageNodeList.forEach((item, index) => {\r\n          const src = item.getAttribute(\"src\");\r\n          imageList.push(src);\r\n          item.addEventListener(\"click\", () => {\r\n            this.$refs.imageViewerRef.show(index);\r\n          });\r\n        });\r\n        this.previewImgList = imageList;\r\n      });\r\n    },\r\n    updateCommentCount(commentCount) {\r\n      this.commentCount = commentCount;\r\n    },\r\n    async getDetail(id) {\r\n      await getArticleDetail(id).then((res) => {\r\n        if (res.code === 200) {\r\n          this.articleInfo = res.obj == null ? {} : res.obj;\r\n          this.imagePreview();\r\n        } else {\r\n          this.$message.error(res.message);\r\n        }\r\n      });\r\n      if (this.articleInfo !== null && this.articleInfo !== undefined) {\r\n        if (\r\n          this.articleInfo.mid !== null &&\r\n          this.articleInfo.mid !== undefined\r\n        ) {\r\n          getArticleMovieInfo(this.articleInfo.mid).then((res) => {\r\n            if (res.code === 200) {\r\n              this.movieData = res.obj == null ? {} : res.obj;\r\n            } else {\r\n              this.$message.error(res.message);\r\n            }\r\n          });\r\n        }\r\n        if (this.user.id)\r\n          getUserLike(this.articleInfo.id, this.user.id).then((res) => {\r\n            if (res.code === 200) {\r\n              this.hasLike = res.obj == null ? false : res.obj;\r\n            }\r\n          });\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      user: function () {\r\n        return this.$store.state.user;\r\n      },\r\n    }),\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.container-body {\r\n  position: relative;\r\n  margin: 12px auto;\r\n  .detail-container {\r\n    .article-detail {\r\n      background: #fff;\r\n      padding: 15px;\r\n      .avatar {\r\n        display: flex;\r\n        cursor: pointer;\r\n        background: #f0f0f0;\r\n        align-items: center;\r\n        overflow: hidden;\r\n        width: 30px;\r\n        height: 30px;\r\n        border-radius: 15px;\r\n        .avatar-img {\r\n          width: 30px;\r\n          height: 30px;\r\n          border-radius: 15px;\r\n        }\r\n      }\r\n      .title {\r\n        font-weight: bolder;\r\n        .tag {\r\n          font-size: 12px;\r\n          border-radius: 3px;\r\n          padding: 0px 5px;\r\n          margin-right: 5px;\r\n          font-weight: normal;\r\n        }\r\n\r\n        .tag-no-audit {\r\n          color: #61666d;\r\n          border: 1px solid #61666d;\r\n        }\r\n      }\r\n      .user-info {\r\n        margin-top: 15px;\r\n        display: flex;\r\n        padding-bottom: 10px;\r\n        border-bottom: 1px solid #ddd;\r\n        .user-info-detail {\r\n          margin-left: 10px;\r\n          .nick-name {\r\n            text-decoration: none;\r\n            color: #4e5969;\r\n            font-size: 15px;\r\n          }\r\n          .nick-name:hover {\r\n            color: #007fff;\r\n          }\r\n          .time-info {\r\n            margin-top: 5px;\r\n            font-size: 13px;\r\n            color: #4e5969;\r\n            .iconfont {\r\n              margin-left: 10px;\r\n            }\r\n            .iconfont::before {\r\n              padding-right: 3px;\r\n            }\r\n            .btn-edit {\r\n              .iconfont {\r\n                font-size: 14px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .detail {\r\n        width: 100%;\r\n        letter-spacing: 1px;\r\n        line-height: 22px;\r\n        a {\r\n          text-decoration: none;\r\n          color: #007fff;\r\n        }\r\n        p {\r\n          width: 100%;\r\n          img {\r\n            max-width: 80%;\r\n            cursor: pointer;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .attachment-panel {\r\n      margin-top: 20px;\r\n      background: #fff;\r\n      padding: 20px;\r\n      .item-content {\r\n        display: flex;\r\n        padding: 10px;\r\n        width: 100%;\r\n        overflow: hidden;\r\n        flex-wrap: wrap;\r\n        .item-img {\r\n          width: 48px;\r\n          height: 69px;\r\n          margin-right: 15px;\r\n        }\r\n        .title {\r\n          font-size: 14px;\r\n        }\r\n        .rank-content {\r\n          display: flex;\r\n        }\r\n        .rank-star {\r\n          margin-top: 3px;\r\n          margin-right: 3px;\r\n        }\r\n        .score-text {\r\n          color: #e09015;\r\n        }\r\n\r\n        .place {\r\n          position: absolute;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          width: 60%;\r\n        }\r\n      }\r\n      .title {\r\n        font-size: 18px;\r\n      }\r\n      .attachment-info {\r\n        display: flex;\r\n        align-items: center;\r\n        color: #9f9f9f;\r\n        margin-top: 10px;\r\n        .item {\r\n          margin-right: 10px;\r\n        }\r\n        .icon-zip {\r\n          font-size: 20px;\r\n          color: #6ca1f7;\r\n        }\r\n        .file-name {\r\n          color: #6ca1f7;\r\n        }\r\n        .integral {\r\n          color: red;\r\n          padding: 0px 5px;\r\n        }\r\n      }\r\n    }\r\n    .comment-panel {\r\n      margin-top: 20px;\r\n      background: #fff;\r\n      padding: 20px;\r\n    }\r\n  }\r\n}\r\n.quick-panel {\r\n  position: fixed;\r\n  width: 50px;\r\n  top: 200px;\r\n  text-align: center;\r\n  .is-fixed {\r\n    top: 10px;\r\n    right: 15px;\r\n  }\r\n  .quick-item {\r\n    width: 50px;\r\n    height: 50px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 50%;\r\n    background: #e0e0e0;\r\n    margin-bottom: 30px;\r\n    cursor: pointer;\r\n    .iconfont {\r\n      font-size: 22px;\r\n      color: #61666d;\r\n    }\r\n    .have-like {\r\n      color: blue;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./articleDetail.vue?vue&type=template&id=d391b0e2&\"\nimport script from \"./articleDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./articleDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./articleDetail.vue?vue&type=style&index=0&id=d391b0e2&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from \"@/utils/request\";\r\n\r\nexport function getMovieDetail(id) {\r\n    return request({\r\n        url: '/movie/detail/' + id,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport function getMovies(data) {\r\n    return request({\r\n        url: '/movie/movies',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}\r\n\r\nexport function getMovieRecomendeDetail(id) {\r\n    return request({\r\n        url: '/movieRecommend/movie/' + id,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport function listAllPoster() {\r\n    return request({\r\n        url: \"/home/getCarousels\",\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getArticleMovieInfo(id) {\r\n    return request({\r\n        url: \"/movie/articleMovieInfo/\" + id,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport function getMovieComments(data) {\r\n    return request({\r\n        url: '/movie/comments',\r\n        method: 'get',\r\n        params: data,\r\n    })\r\n}\r\n\r\nexport function postComment(data) {\r\n    return request({\r\n        url: '/movie/comment',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport function getVideos(id) {\r\n    return request({\r\n        url: '/movie/videos/' + id,\r\n        method: 'get',\r\n    })\r\n}\r\n\r\nexport function getReco(data) {\r\n    return request({\r\n        url: '/home/sysReco',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}"],"sourceRoot":""}