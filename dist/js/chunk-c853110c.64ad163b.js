(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c853110c"],{"04dc":function(t,a,e){"use strict";e("f517")},"0b5c":function(t,a,e){},"31d1":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container"},[a("div",{staticClass:"user-info"},[a("el-card",{staticClass:"base-info"},[a("div",{staticClass:"avatar"},[a("el-image",{staticClass:"avatar-img",attrs:{src:t.userInfo.head}})],1),a("div",{staticClass:"username"},[a("span",[t._v(t._s(t.userInfo.name))]),0==t.userInfo.gender?a("span",{staticClass:"gender-iconfont iconfont icon-woman"}):t._e(),1==t.userInfo.gender?a("span",{staticClass:"gender-iconfont iconfont icon-man"}):t._e()]),a("div",{staticClass:"desc"},[a("span",[t._v(" "+t._s(t.userInfo.desc)+" ")])])]),a("el-card",{staticClass:"expend-info"},[a("div",{staticClass:"info-item"},[a("div",{staticClass:"item-left el-icon-star-off"},[t._v("评分数")]),a("div",{staticClass:"value"},[t._v(t._s(t.userInfo.rankCount))])]),a("div",{staticClass:"info-item"},[a("div",{staticClass:"item-left el-icon-edit"},[t._v("发帖数")]),a("div",{staticClass:"value"},[t._v(t._s(t.userInfo.postCount))])]),a("div",{staticClass:"info-item"},[a("div",{staticClass:"item-left iconfont icon-like"},[t._v("获赞数")]),a("div",{staticClass:"value"},[t._v(t._s(t.userInfo.likeCount))])]),a("div",{staticClass:"info-item"},[a("div",{staticClass:"item-left iconfont icon-register"},[t._v("注册时间")]),a("div",{staticClass:"value"},[t._v(t._s(t.userInfo.createTime))])])])],1),a("el-card",{staticClass:"view"},[a("div",[a("el-tabs",{on:{"tab-click":t.changeTab},model:{value:t.activeTabName,callback:function(a){t.activeTabName=a},expression:"activeTabName"}},[a("el-tab-pane",{attrs:{label:"评分",name:"0"}}),a("el-tab-pane",{attrs:{label:"影评",name:"5"}}),a("el-tab-pane",{attrs:{label:"发帖",name:"1"}}),a("el-tab-pane",{attrs:{label:"评论",name:"2"}}),a("el-tab-pane",{attrs:{label:"点赞",name:"3"}}),a("el-tab-pane",{attrs:{label:"评分分布",name:"4"}})],1),a("div",{staticClass:"view-list"},[0!=t.activeTabName||t.loading||null==t.data||0!=t.data.length?t._e():a("div",[a("div",{staticClass:"no-data"},[a("div",{staticClass:"iconfont icon-empty"}),a("div",{staticClass:"msg"},[t._v("暂无数据")])])]),0==t.activeTabName?a("div",{staticClass:"movie-list"},[a("div",{staticClass:"movie-item"},t._l(t.data,(function(e,s){return a("div",{key:s,staticClass:"item-content"},[a("img",{staticClass:"item-img",attrs:{src:e.posterURL}}),a("div",{staticClass:"left-content"},[a("router-link",{staticClass:"title",attrs:{to:"/movie/"+e.id}},[a("div",[a("div",{staticClass:"name"},[t._v(" "+t._s(e.name)+" ")]),a("span",{staticStyle:{color:"#aeaeae","font-size":"13px"}},[t._v("   ("+t._s(e.createTime)+")")])])]),a("div",{staticClass:"rank-content"},[a("rankstar",{staticClass:"rank-star",attrs:{score:null==e.score?0:2*e.score}}),a("div",{staticClass:"score-text"},[t._v(" "+t._s(null==e.score?0:e.score.toFixed(1))+" ")])],1),a("div",{staticClass:"place"},[t._v(t._s(e.descri))])],1)])})),0),t.data.length?a("div",{staticClass:"search-page"},[a("el-pagination",{attrs:{"hide-on-single-page":!0,"current-page":t.queryInfo.curPage,"page-size":t.queryInfo.pageSize,layout:"total, prev, pager, next",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]):t._e(),5==t.activeTabName?a("div",{staticClass:"movie-list"},[a("div",{staticClass:"movie-comment-item"},t._l(t.data,(function(t,e){return a("div",{key:e,staticClass:"item-content"},[a("movieCommentItem",{attrs:{data:t}})],1)})),0),t.data.length?a("div",{staticClass:"search-page"},[a("el-pagination",{attrs:{"hide-on-single-page":!0,"current-page":t.queryInfo.curPage,"page-size":t.queryInfo.pageSize,layout:"total, prev, pager, next",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]):t._e(),0!=t.activeTabName&&4!=t.activeTabName&&5!=t.activeTabName?a("div",{staticClass:"forum-list"},[a("dataList",{attrs:{data:t.data,queryInfo:t.queryInfo,count:t.count,loading:t.loading},on:{loadData:t.changeTab}})],1):t._e(),4==t.activeTabName?a("div",{staticClass:"rating-graph"},[a("ratingGraph",{attrs:{option:t.option,width:"80%",height:"400px"}})],1):t._e()])],1)])],1)},i=[],n=e("4c2d"),c=e("4395"),o=function(){var t=this,a=t._self._c;return a("VueEcharts",{style:{width:t.width,height:t.height},attrs:{option:t.option}})},r=[],l={name:"ratingGraph",props:{option:{type:Object},width:{type:String,default:"80%"},height:{type:String,default:"500px"}}},d=l,u=e("2877"),v=Object(u["a"])(d,o,r,!1,null,null,null),m=v.exports,f=function(){var t=this,a=t._self._c;return a("div",{staticClass:"movie-comment-item"},[a("div",{staticClass:"movie-comment-item-inner"},[a("div",{staticClass:"top-content"},[a("div",[a("img",{staticClass:"avatar",attrs:{src:t.data.userImg}})]),a("div",{staticStyle:{width:"100%"}},[a("span",{staticClass:"nickname"},[a("router-link",{attrs:{to:"/user/"+t.data.id}},[t._v(t._s(t.data.name))])],1),a("div",{staticClass:"time"},[t._v(t._s(t.data.createTime))])])]),a("div",{staticClass:"content three-line"},[t._v("留言: "+t._s(t.data.comment))]),a("div",{staticClass:"related-movie"},[t._v(" 留言电影："),a("router-link",{attrs:{to:"/movie/"+t.data.mid}},[t._v(t._s(t.data.movie))])],1)])])},h=[],p={name:"movieCommentItem",props:{data:{type:Object}}},g=p,C=(e("52b8"),Object(u["a"])(g,f,h,!1,null,"1bf1d576",null)),b=C.exports,_=e("c24f"),y=e("dab6"),I={name:"userCenter",components:{rankstar:n["a"],ratingGraph:m,dataList:c["a"],movieCommentItem:b},data(){return{id:"",activeTabName:0,userInfo:{},option:{xAxis:{data:["1","2","3","4","5"]},yAxis:{type:"value"},series:[{data:[0,0,0,0,0],type:"bar"}]},loading:!1,data:[],queryInfo:{curPage:1,pageSize:15},count:0}},methods:{setData(t){this.data=[],this.count=0,console.log(t),200===t.code?(this.data=null==t.obj.objs?[]:t.obj.objs,this.count=t.obj.count):this.$message.error(t.message)},changeTab(t,a){0==this.activeTabName?Object(_["g"])(this.id,this.queryInfo).then(t=>{this.setData(t)}):4==this.activeTabName?Object(y["a"])(this.id).then(t=>{200===t.code&&(this.option.series[0].data=null==t.obj?[]:t.obj)}):5==this.activeTabName?Object(_["f"])(this.id,this.queryInfo).then(t=>{this.setData(t)}):Object(_["d"])(this.id,this.queryInfo,this.activeTabName).then(t=>{this.setData(t)})},userCenterInfo(t){Object(_["e"])(t).then(t=>{200===t.code&&(this.userInfo=null==t.obj?{}:t.obj)})},handleSizeChange(t){this.queryInfo.pageSize=t,this.changeTab(null,null)},handleCurrentChange(t){this.queryInfo.curPage=t,this.changeTab(null,null)}},watch:{"$route.params":{handler(t){this.id=t.id,this.userCenterInfo(t.id),this.changeTab(null,null)},immediate:!0}}},k=I,j=(e("c332"),Object(u["a"])(k,s,i,!1,null,"90a75e38",null));a["default"]=j.exports},3796:function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"article-item"},[a("div",{staticClass:"article-item-inner"},[a("div",{staticClass:"article-body"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"avatar"},[a("el-image",{staticClass:"avatar-img",attrs:{src:t.data.userImg}})],1),a("router-link",{staticClass:"link-info",attrs:{to:"/user/"+t.data.uid}},[t._v(t._s(t.data.username))]),a("el-divider",{attrs:{direction:"vertical"}}),a("div",{staticClass:"post-time"},[t._v(t._s(t.data.createTime))])],1),a("router-link",{staticClass:"title",attrs:{to:"/articleDetail/"+t.data.id}},[t._v(t._s(t.data.title))]),a("div",{staticClass:"summary"},[t._v(t._s(t.data.summary))]),a("div",{staticClass:"article-info"},[a("span",{staticClass:"iconfont icon-eye-solid"},[t._v(" "+t._s(0==t.data.readCount?"阅读":t.data.readCount)+" ")]),a("span",{staticClass:"iconfont icon-good"},[t._v(" "+t._s(0==t.data.goodCount?"点赞":t.data.likeCount)+" ")]),a("span",{staticClass:"iconfont icon-comment"},[t._v(" "+t._s(0==t.data.commentCount?"评论":t.data.commentCount)+" ")])])],1),t.data.cover?a("div",{staticClass:"cover"},[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{fit:"scale-down",src:t.data.cover}})],1):t._e()])])},i=[],n={name:"articleItem",props:{data:{type:Object}}},c=n,o=(e("8e51"),e("2877")),r=Object(o["a"])(c,s,i,!1,null,"095d9c04",null);a["a"]=r.exports},"3fee":function(t,a,e){},4395:function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",[t.loading||null==t.data||0!=t.data.length?t._e():a("div",[t._m(0)]),t.loading?a("div",{staticClass:"skeleton"},[a("el-skeleton",{attrs:{row:2,animated:""}})],1):t._e(),t._l(t.data,(function(t,e){return a("div",{key:e},[a("articleItem",{attrs:{data:t}})],1)})),a("div",{staticClass:"pagination"},[a("el-pagination",{staticStyle:{"text-align":"left"},attrs:{"hide-on-single-page":!0,background:"",total:t.count,"current-page":t.queryInfo.curPage,layout:"prev, pager, next","page-size":t.queryInfo.pageSize},on:{"update:currentPage":function(a){return t.$set(t.queryInfo,"curPage",a)},"update:current-page":function(a){return t.$set(t.queryInfo,"curPage",a)},"current-change":t.handlePageNoChange}})],1)],2)},i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"no-data"},[a("div",{staticClass:"iconfont icon-empty"}),a("div",{staticClass:"msg"},[t._v("暂无文章")])])}],n=e("3796"),c={name:"dataList",components:{articleItem:n["a"]},props:{data:{type:Array},count:{type:Number},queryInfo:{type:Object},loading:{type:Boolean}},methods:{handlePageNoChange(t){this.queryInfo.curPage=t,this.$emit("loadData")}},data(){return{}},created(){}},o=c,r=(e("04dc"),e("2877")),l=Object(r["a"])(o,s,i,!1,null,null,null);a["a"]=l.exports},"4c2d":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"score",style:{"background-position-y":`-${t.posY}px`}})},i=[],n={name:"rankstar",props:{score:{type:Number}},computed:{posY:function(){let t=0,a=this.score;return t=a>9?0:a>8?11:a>7?22:a>6?33:a>5?44:a>4?55:a>3?66:a>2?77:a>1?88:99,t}}},c=n,o=(e("86ab"),e("2877")),r=Object(o["a"])(c,s,i,!1,null,"009d837d",null);a["a"]=r.exports},"52b8":function(t,a,e){"use strict";e("3fee")},"86ab":function(t,a,e){"use strict";e("fb49")},"8e51":function(t,a,e){"use strict";e("0b5c")},b0f2:function(t,a,e){},c332:function(t,a,e){"use strict";e("b0f2")},dab6:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){return c}));var s=e("b775");function i(t,a){return Object(s["a"])({url:"/movie/score/"+t+"?uid="+a,method:"get"})}function n(t,a,e){return Object(s["a"])({url:"/movie/rate/"+t,method:"get",params:{uid:a,score:e}})}function c(t){return Object(s["a"])({url:"/user/ratingDistribution/"+t,method:"get"})}},f517:function(t,a,e){},fb49:function(t,a,e){}}]);
//# sourceMappingURL=chunk-c853110c.64ad163b.js.map